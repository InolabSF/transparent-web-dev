{"version":3,"sources":["webpack:///./src/views/test/TestPinch.vue?a7d0","webpack:///src/views/test/TestPinch.vue","webpack:///./src/views/test/TestPinch.vue?f07f","webpack:///./src/views/test/TestPinch.vue?8aa9","webpack:///./src/views/test/TestPinch.vue?13d0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_l","layer","i","layerStyles","attrs","data-layer-id","src","_v","_s","debugParams","directives","name","rawName","value","expression","modifiers","number","type","domProps","on","input","$event","target","composing","translateZ","_n","onInputTranslateZ","blur","$forceUpdate","onInputPerspective","click","onClickAddLayer","staticRenderFns","TestPinchvue_type_script_lang_js_","created","initializePinchEvent","data","layers","wrapperStyle","childStyle","computed","diff","styles","map","transform","concat","methods","throttleLog","lodash_default","a","debounce","console","error","_this","square","document","querySelector","hammer","hammer_default","get","set","enable","e","logEvent","logType","log","scale","rotation","velocity","JSON","stringify","convertTranslateZ","stopWindowPinchAction","evt","val","perspective","onInputLayer","id","getAttribute","newLayer","length","unshift","test_TestPinchvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TestPinch_vue_vue_type_style_index_0_id_5f0ab055_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TestPinch_vue_vue_type_style_index_0_id_5f0ab055_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-9fba54ae.78bdf558.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"wrapper\",style:(_vm.wrapperStyle)},[_c('div',{staticClass:\"child\",style:(_vm.childStyle)},[_vm._l((_vm.layers),function(layer,i){return [_c('div',{staticClass:\"layer\",style:(_vm.layerStyles[i]),attrs:{\"data-layer-id\":i}},[_c('img',{attrs:{\"src\":(\"http://placehold.it/600x600?text=\" + (layer.name))}})])]})],2)]),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n    params: \"+_vm._s(_vm.debugParams)+\" \"),_c('br'),_vm._v(\"\\n    translateZ: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.translateZ),expression:\"translateZ\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.translateZ)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.translateZ=_vm._n($event.target.value)},_vm.onInputTranslateZ],\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\"px\"),_c('br'),_vm._v(\"\\n    perspective: \"),_c('input',{attrs:{\"type\":\"number\",\"value\":\"100\"},on:{\"input\":_vm.onInputPerspective}}),_vm._v(\"px\"),_c('br'),_c('button',{on:{\"click\":_vm.onClickAddLayer}},[_vm._v(\"add layer\")]),_c('br')])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"wrapper\" :style=\"wrapperStyle\">\n      <div class=\"child\" :style=\"childStyle\">\n        <template v-for=\"(layer, i) in layers\">\n          <div class=\"layer\" :data-layer-id=\"i\" :style=\"layerStyles[i]\">\n            <img :src=\"`http://placehold.it/600x600?text=${layer.name}`\">\n          </div>\n        </template>\n      </div>\n    </div>\n    <div class=\"control\">\n      params: {{ debugParams }} <br>\n      translateZ: <input type=\"number\" v-model.number=\"translateZ\" @input=\"onInputTranslateZ\">px<br>\n      perspective: <input type=\"number\" value=\"100\" @input=\"onInputPerspective\">px<br>\n      <button @click=\"onClickAddLayer\">add layer</button><br>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport _ from \"lodash\";\nimport Hammer from \"hammerjs\";\n\nexport default {\n  name: \"MeetingTest\",\n  created() {\n    this.initializePinchEvent();\n  },\n  data() {\n    return {\n      translateZ: 0,\n      debugParams: '',\n      layers: [\n        {name: 'layer-5'},\n        {name: 'layer-4'},\n        {name: 'layer-3'},\n        {name: 'layer-2'},\n        {name: 'layer-1'},\n        {name: 'layer-0'},\n      ],\n      wrapperStyle: {},\n      childStyle: {},\n    };\n  },\n  computed: {\n    layerStyles() {\n      const diff = 50;\n      const styles = this.layers.map((layer, i) => {\n        return {\n          transform: `translate3D(0px, 0px, ${0 - i * diff}px)`\n        }\n      });\n      return styles;\n    }\n  },\n  methods: {\n    throttleLog: _.debounce((type) => {\n      console.error(type);\n    }, 200),\n    initializePinchEvent() {\n      const square = document.querySelector('#app');\n      const hammer = new Hammer(square);\n      hammer.get('pinch').set({ enable: true });\n      hammer.on('pinchout', (e) => {\n        // this.logType('pinchout');\n        this.throttleLog('[mabiki] pinch out');\n        this.logEvent(e);\n      });\n      hammer.on('pinchin', (e) => {\n        this.logType('pinchin');\n        this.logEvent(e);\n        this.throttleLog('[mabiki] pinch in');\n      });\n      hammer.on('pinchmove', (e) => {\n        this.logType('pinchmove');\n        this.logEvent(e);\n      });\n    },\n    logType(type) {\n      console.log(type);\n    },\n    logEvent(e) {\n      const debugParams = {\n        type: e.type,\n        scale: e.scale,\n        rotation: e.rotation,\n        velocity: e.velocity,\n      };\n      this.debugParams = JSON.stringify(debugParams)\n      console.log(debugParams);\n    },\n    convertTranslateZ(scale) {\n      this.translateZ\n    },\n    stopWindowPinchAction() {\n      // window.addEventListener('touchmove', (evt) => {\n      //   alert(\"move\");\n      //   evt.preventDefault();\n      // });\n      // document.addEventListener('touchstart', event => {\n      //   if (event.touches.length > 1) {\n      //     event.preventDefault();\n      //   }\n      // }, true);\n    },\n    onInputTranslateZ(evt) {\n      const val = evt.target.value;\n      this.childStyle = {\n        transform: `translate3D(0px, 0px, ${val}px)`,\n      };\n    },\n    onInputPerspective(evt) {\n      const val = evt.target.value;\n      this.wrapperStyle = {\n        perspective: `${val}px`\n      };\n    },\n    onInputLayer(evt) {\n      const val = evt.target.value;\n      const id = evt.target.getAttribute('data-layer-id');\n      this.layerStyles[id] = {\n        transform: `translate3D(0px, 0px, ${val}px)`,\n      }\n    },\n    onClickAddLayer() {\n      const newLayer = {name: `layer-${this.layers.length}`};\n      this.layers.unshift(newLayer);\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .wrapper {\n    display: flex;\n    justify-content: center;\n    perspective: 100px;\n    perspective-origin: center center;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  .child {\n    transform-origin: center center;\n    transform-style: preserve-3D;\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n\n  input {\n    width: 100px;\n  }\n\n  .layer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.5s;\n  }\n\n  .control {\n    position: absolute;\n    display: block;\n    bottom: 0;\n    right: 0;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestPinch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestPinch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestPinch.vue?vue&type=template&id=5f0ab055&scoped=true&\"\nimport script from \"./TestPinch.vue?vue&type=script&lang=js&\"\nexport * from \"./TestPinch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TestPinch.vue?vue&type=style&index=0&id=5f0ab055&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f0ab055\",\n  null\n  \n)\n\ncomponent.options.__file = \"TestPinch.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestPinch.vue?vue&type=style&index=0&id=5f0ab055&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestPinch.vue?vue&type=style&index=0&id=5f0ab055&scoped=true&lang=css&\""],"sourceRoot":""}