{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/test/TestTranscripts.vue?7d3d","webpack:///src/views/test/TestTranscripts.vue","webpack:///./src/views/test/TestTranscripts.vue?0469","webpack:///./src/views/test/TestTranscripts.vue?6d00","webpack:///./src/views/test/TestTranscripts.vue?efb4"],"names":["fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","_l","layer","layerIndex","key","_v","_s","id","created_at","staticClass","content","contentIndex","attrs","src","img_url","on","touchstart","$event","onClickImage","words","join","staticRenderFns","START_Z_AXIS","Z_STEP","SHOW_LAYER_NUM","TestTranscriptsvue_type_script_lang_js_","name","mixins","customTouchEventDriver","components","UserLayer","created","_created","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","opts","wrap","_context","prev","next","wallId","$route","params","startRecognizeSpeachSDK","fetchTranscripts","listenTranscriptsUpdate","jquery_default","css","overflow","stop","apply","arguments","data","_this","layers","isShowContentDetailModal","currentContentDetailModalFloor","currentDetailModalContent","currentDetailModalStyle","contextMenuStatuses","layerStyles","lodash_default","a","range","map","i","getComputedStyleForLayer","keywordStyles","getRandomStyleForKeyWord","imageStyles","getRandomStyleForImage","positionMap","computed","methods","onClickTest","alert","listenPersonalTouch","window","addEventListener","onClickTable","_fetchTranscripts","_callee2","url","res","_res$data","searches","related_contents","_context2","concat","ApiClient","get","sent","search_first_index","search_last_index","related_content_last_index","s","filter","r","transcript_id","l","length","slice","_ref","floorId","contentId","openContentDetailModal","_ref2","find","c","getModalStyleByFloorId","contentDetailOpenTime","Date","getTime","closeContentDetailModal","waitTime","time","evt","_this2","touch","detail","isTouchImage","touchedImages","$refs","images","forEach","img","rect","getBoundingClientRect","isTouchObjectByRect","push","b","aId","Number","getAttribute","bId","latestTouchedImage","existRef","closeContextMenu","d","openContextMenu","getTransformDegByFloorId","style","left","x","top","y","transform","refName","status","getStyleByContextMenuPosition","openPinList","createPin","removePin","offRecord","leave","exitWall","removeContent","removeWord","random","innerWidth","innerHeight","x0","y0","index","z","alpha","zIndex","opacity","1","2","3","4","initializePinchEvent","_this3","square","document","querySelector","hammer","hammer_default","set","enable","e","logType","logEvent","type","console","log","pinchScale","scale","randNum","max","min","Math","floor","arreyShuffle","array","tmp","calcSendPosition","posisionMap","each","parseInt","offset","x_max","width","y_max","height","temp","getLayerStyle","rotate","getImageStyle","pos_data","center_x","center_y","getKeywordColor","keyword_color","updateLayer","_this4","setInterval","test_TestTranscriptsvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TestTranscripts_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TestTranscripts_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-3a28b6a8.ad23b5e5.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.layers),function(layer,layerIndex){return _c('div',{key:layerIndex},[_c('div',[_vm._v(\"------------------------------------------------------\")]),_c('div',[_vm._v(\"id: \"+_vm._s(layer.id))]),_c('div',[_vm._v(\"created_at: \"+_vm._s(layer.created_at))]),_c('div',[_vm._v(\"画像:\")]),_c('div',{staticClass:\"flexbox\"},_vm._l((layer.related_contents),function(content,contentIndex){return _c('img',{key:content.id,staticClass:\"image\",attrs:{\"src\":content.img_url},on:{\"touchstart\":function($event){_vm.onClickImage(content)}}})})),_c('div',[_vm._v(\"キーワード \"+_vm._s(layer.words.join(', ')))])])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-for=\"(layer, layerIndex) in layers\" :key=\"layerIndex\">\n      <div>------------------------------------------------------</div>\n      <div>id: {{ layer.id }}</div>\n      <div>created_at: {{ layer.created_at }}</div>\n      <div>画像:</div>\n      <div class=\"flexbox\">\n        <img\n          v-for=\"(content, contentIndex) in layer.related_contents\"\n          :key=\"content.id\"\n          @touchstart=\"onClickImage(content)\"\n          :src=\"content.img_url\"\n          class=\"image\"\n        />\n      </div>\n      <div>キーワード {{ layer.words.join(', ') }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport client from \"@/core/ApiClient\";\nimport _ from \"lodash\";\nimport customTouchEventDriver from \"@/mixins/customTouchEventDriver\";\nimport Hammer from \"hammerjs\";\nimport $ from \"jquery\";\nimport UserLayer from \"@/components/UserLayer\";\n\nconst START_Z_AXIS = 50; // 先頭z座標\nconst Z_STEP = 10; // 1レイヤー間のz深度\nconst SHOW_LAYER_NUM = 10 // 階層数\n\nexport default {\n  name: \"Meeting\",\n  mixins: [customTouchEventDriver],\n  components: {\n    UserLayer\n  },\n  async created() {\n    const opts = {\n      wallId: this.$route.params.wallId\n    };\n    startRecognizeSpeachSDK(opts);\n    // TODO transcriptsの取得\n    this.fetchTranscripts();\n    this.listenTranscriptsUpdate();\n    $('body').css({\n      overflow: 'auto'\n    });\n    // this.listenPersonalTouch();\n    //\n    // this.initializePinchEvent();\n    //\n    // this.listenTranscriptsPostSuccess();\n    //\n    // await this.$nextTick();\n    // this.calcSendPosition();\n  },\n  data() {\n    return {\n      layers: [],\n      isShowContentDetailModal: false,\n      currentContentDetailModalFloor: false,\n      currentDetailModalContent: null,\n      currentDetailModalStyle: {},\n      contextMenuStatuses: [],\n      layerStyles: _.range(10).map((i) => {\n        return this.getComputedStyleForLayer(i);\n      }),\n      keywordStyles: _.range(10).map(() => {\n        return this.getRandomStyleForKeyWord()\n      }),\n      imageStyles: _.range(10).map(() => {\n        return this.getRandomStyleForImage();\n      }),\n      positionMap: [],\n    }\n  },\n  computed: {\n  },\n  methods: {\n    onClickTest() {\n      alert('test');\n    },\n    listenPersonalTouch() {\n      window.addEventListener('CUSTOM_TOUCH_START', this.onClickTable);\n    },\n    async fetchTranscripts() {\n      const wallId = this.$route.params.wallId;\n      const url = `/next100/contents?wall_id=${wallId}`\n      const res = await client.get(url);\n\n      // 整形\n      const {\n        searches,\n        search_first_index,\n        search_last_index,\n        related_contents,\n        related_content_last_index\n      } = res.data;\n\n      // TODO ここでrelated_contentsが0件場合は新規レイヤーを追加しない\n      let layers = searches.map(s => {\n        s.related_contents = related_contents.filter(r => ( r.transcript_id === s.transcript_id ));\n        return s;\n      });\n\n      layers = layers.filter((l) => {\n        return l.related_contents && l.related_contents.length > 0;\n      });\n\n      this.layers = layers.slice(0, 10);\n    },\n    onClickImage({floorId, contentId}) {\n      this.openContentDetailModal({floorId, contentId});\n    },\n    openContentDetailModal({floorId, contentId}) {\n      if (this.isShowContentDetailModal) {\n        return;\n      }\n\n      // ID識別で向きを変える\n      const layer = this.layers.find(l => {\n        return l.related_contents.find(c => ( c.id === contentId ));\n      });\n\n      if (!layer) {\n        return false;\n      }\n\n      const content = layer.related_contents.find(c => ( c.id === contentId ));\n      this.currentDetailModalStyle = this.getModalStyleByFloorId(floorId);\n      this.currentDetailModalContent = content;\n      this.isShowContentDetailModal = true;\n      this.contentDetailOpenTime = new Date().getTime();\n    },\n    closeContentDetailModal() {\n      const waitTime = 1000;\n      const time = new Date().getTime() - this.contentDetailOpenTime;\n      if (time <= waitTime) {\n        return false;\n      }\n      this.isShowContentDetailModal = false;\n    },\n    onClickTable(evt) {\n      // TODO シーン判別のようなものを追加\n      // TODO 長押しで開く\n      const touch = evt.detail[0];\n\n      // NOTE 画像触ったら反応しない\n      let isTouchImage = false;\n      let touchedImage;\n\n      const touchedImages = [];\n      this.$refs.images.forEach((img) => {\n        const rect = img.getBoundingClientRect();\n        if (this.isTouchObjectByRect(touch, rect)) {\n          isTouchImage = true;\n          touchedImages.push(img);\n          return false;\n        }\n      });\n\n      if (isTouchImage) {\n        // TODO: 先頭だけ取り出す 要ブラッシュアップ\n        touchedImages.sort((a, b) => {\n          const aId = Number(a.getAttribute('data-content-id'));\n          const bId = Number(b.getAttribute('data-content-id'));\n          return aId < bId ? -1 : 1;\n        });\n\n        const latestTouchedImage = touchedImages[0];\n\n        const floorId = touch.floorId;\n        const contentId = Number(latestTouchedImage.getAttribute('data-content-id'));\n        this.onClickImage({floorId, contentId});\n        return false;\n      }\n\n      // NOTE: refsは配列で返ってくる\n      const existRef = this.$refs[`context-menu-${touch.floorId}`];\n      if (\n        existRef &&\n        existRef.length > 0 &&\n        !this.isTouchObjectByRect(touch, existRef[0].getBoundingClientRect())\n      ) {\n        this.closeContextMenu(touch);\n      } else if (\n        this.contextMenuStatuses\n          .filter(\n            d => (d.floorId === touch.floorId)\n          ).length === 0\n      ) {\n        this.openContextMenu(touch);\n      }\n    },\n    openContextMenu(touch) {\n      const d = this.getTransformDegByFloorId(touch.floorId);\n      const style = {\n        left: `${touch.x}px`,\n        top: `${touch.y}px`,\n        transform: `rotate(${d}deg)`,\n      };\n      const refName = `context-menu-${touch.floorId}`;\n      const status = {\n        floorId: touch.floorId,\n        style,\n        refName\n      };\n      this.contextMenuStatuses.push(status);\n    },\n    closeContextMenu(touch) {\n      const floorId = touch.floorId;\n      this.contextMenuStatuses = this.contextMenuStatuses.filter(s => s.floorId !== floorId);\n    },\n    getStyleByContextMenuPosition() {\n      // TODO タッチ位置に合わせて出す位置調整\n    },\n    openPinList() {\n      // ピン一覧\n    },\n    createPin() {\n      // TODO ピンする\n    },\n    removePin() {\n      // TODO アンピンする\n    },\n    offRecord() {\n      // TODO オフレコにする\n    },\n    leave() {\n      // TODO 退席\n    },\n    exitWall() {\n      // TODO 会議終了\n    },\n    removeContent() {\n      // TODO コンテンツを消す\n    },\n    removeWord() {\n      // TODO ワードを消す\n    },\n    getRandomStyleForImage() {\n      const x = _.random(window.innerWidth);\n      const y = _.random(window.innerHeight);\n      const style = {\n        left: `${x}px`,\n        top: `${y}px`,\n      };\n      return style;\n    },\n    getRandomStyleForKeyWord() {\n      const x0 = 800;\n      const y0 = 600;\n      const x = _.random(x0, window.innerWidth - x0);\n      const y = _.random(y0, window.innerHeight - y0);\n      const style = {\n        left: `${x}px`,\n        top: `${y}px`,\n      };\n      return style;\n    },\n    getComputedStyleForLayer(index) {\n      const z = START_Z_AXIS - (index * Z_STEP);\n      const alpha = 1 - (index * 0.08);\n      const zIndex = SHOW_LAYER_NUM - index;\n      const style = {\n        transform: `translate3D(0px, 0px, ${z}px)`,\n        opacity: alpha,\n        zIndex\n      };\n      return style;\n    },\n    getModalStyleByFloorId(floorId) {\n      const d = this.getTransformDegByFloorId(floorId);\n      return { transform: `rotate(${d}deg)` };\n    },\n    getTransformDegByFloorId(floorId) {\n      const map = {\n        1: 0,\n        2: 90,\n        3: 180,\n        4: 270\n      };\n\n      return map[floorId];\n    },\n    initializePinchEvent() {\n      const square = document.querySelector('#app');\n      const hammer = new Hammer(square);\n      hammer.get('pinch').set({ enable: true });\n      hammer.on('pinchout', (e) => {\n        this.logType('pinchout');\n        this.logEvent(e);\n      });\n      hammer.on('pinchin', (e) => {\n        this.logType('pinchin');\n        this.logEvent(e);\n      });\n      hammer.on('pinchmove', (e) => {\n        this.logType('pinchmove');\n        this.logEvent(e);\n      });\n    },\n    logType(type) {\n      console.log(type);\n    },\n    logEvent(e) {\n      this.pinchScale = e.scale;\n      console.log(e.scale);\n    },\n    // ランダム整数\n    randNum(max,min) {\n      return Math.floor(Math.random()*(max-min+1)+min);\n    },\n    arreyShuffle(array){\n      for(var i = array.length - 1; i > 0; i--){\n        var r = Math.floor(Math.random() * (i + 1));\n        var tmp = array[i];\n        array[i] = array[r];\n        array[r] = tmp;\n      }\n    },\n    calcSendPosition() {\n      var posisionMap = [];\n      $('#media-send-leyer .send-area').each(function(i){\n        var x = parseInt($(this).offset().left);\n        var y = parseInt($(this).offset().top);\n        var x_max = parseInt(x + $(this).width());\n        var y_max = parseInt(y + $(this).height());\n        console.log('x:'+x);\n        console.log('y:'+y);\n        console.log('x_max:'+x_max);\n        console.log('y_max:'+y_max);\n        //return false;\n        var temp = {};\n        temp.x = x;\n        temp.y = y;\n        temp.x_max = x_max;\n        temp.y_max = y_max;\n        posisionMap[i] = temp;\n      });\n\n      this.arreyShuffle(posisionMap);\n      this.positionMap = posisionMap;\n    },\n    getLayerStyle(index) {\n      const rotate = ['1deg', '-0deg', '-1deg', '-2deg', '-3deg', '-4deg', '-3deg', '-2deg', '-1deg', '0deg'];\n      const style = {\n        'transform': 'translate3d(0,0,'+ (500*index-4500) +'px) rotate('+rotate[index]+')',\n        'filter':'blur('+ (90 - (index*10)) +'px)',\n        'opacity':(0.1 + (index*0.1))\n      };\n      return style;\n    },\n    getImageStyle(index) {\n      const pos_data = this.positionMap;\n      const rotate = ['0deg', '90deg', '180deg', '270deg'];\n      const top = _.random(pos_data[index].y_max, pos_data[index].y);\n      const left = _.random(pos_data[index].x_max,pos_data[index].x);\n      // const center_x = parseInt($(this).children().width() / 2);\n      // const center_y = parseInt($(this).children().height() / 2);\n      // TODO サイズ調整\n      const center_x = parseInt(window.innerWidth / 4 / 2);\n      const center_y = parseInt(window.innerHeight / 5 / 2);\n      this.arreyShuffle(rotate);\n      const style = {\n        'top': top - center_y+'px',\n        'left':left - center_x+'px',\n        'transform':'rotate('+rotate[0]+')'\n      };\n      return style;\n    },\n    getKeywordColor(index) {\n      const keyword_color = ['red', 'blue', 'green', 'yellow', 'purple', 'vermilion', 'yellowgreen', 'orange', 'lightblue', 'gold', 'pink', 'bluegreen', 'white'];\n      return keyword_color[index];\n    },\n    updateLayer() {\n      client.get('');\n    },\n    listenTranscriptsUpdate() {\n      // window.addEventListener('TRANSCRIPT_POST_SUCCESS', () => {\n      //   this.fetchTranscripts();\n      // });\n\n      setInterval(() => {\n        this.fetchTranscripts();\n      }, 1000);\n    }\n  }\n};\n</script>\n\n<style>\n.image {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestTranscripts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestTranscripts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TestTranscripts.vue?vue&type=template&id=9681d87e&\"\nimport script from \"./TestTranscripts.vue?vue&type=script&lang=js&\"\nexport * from \"./TestTranscripts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TestTranscripts.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TestTranscripts.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestTranscripts.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TestTranscripts.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}