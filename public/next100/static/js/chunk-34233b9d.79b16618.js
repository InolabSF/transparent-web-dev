(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34233b9d"],{1712:function(t,e,n){},"25f7":function(t,e,n){"use strict";var i=n("d399"),r=n.n(i);r.a},"2dab":function(t,e,n){"use strict";var i=n("483b"),r=n.n(i);r.a},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"483b":function(t,e,n){},5293:function(t,e,n){},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d8e8"),a=n("4bf8"),s=n("79e5"),o=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),r(t))}})},"81f7":function(t,e,n){"use strict";var i=n("1712"),r=n.n(i);r.a},"8dd6":function(t,e,n){"use strict";var i=n("5293"),r=n.n(i);r.a},bbcc:function(t,e,n){},d13f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t.positionMap.length>0?n("div",{attrs:{id:"media-leyer"}},[n("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},t._l(t.aggregatedLayers,function(e,i){return t.minLayerIndex<=i&&i<=t.maxLayerIndex?n("div",{key:i,staticClass:"post transit"},[n("div",{staticClass:"media-container",style:t.getLayerStyle(i),attrs:{"data-keyword-color":t.getKeywordColor(i)}},[t._l(e.related_contents.slice(0,t.$props.maxContentNum),function(r,a){return n("div",{key:r.id,staticClass:"item",style:t.getImageStyle(i,a),attrs:{"data-layer-id":e.id,"data-content-id":r.id}},[n("div",{staticClass:"media-photo"},[n("img",{ref:"images",refInFor:!0,staticClass:"img",attrs:{src:r.img_url,"data-content-id":r.id}}),n("ul",{staticClass:"pin-list"},t._l(r.usersPinContents,function(e,i){return n("li",{key:i,attrs:{"data-color":t.getColorByName(e.user.name)}})})),n("button",{ref:"pinButtonOnList",refInFor:!0,staticClass:"btn-pin",attrs:{"data-content-id":r.id}})])])}),n("div",{staticClass:"item",style:t.getImageStyle(i,e.related_contents.length)},[n("div",{staticClass:"keyword-box",attrs:{"data-searchid":"27093"}},[n("div",{staticClass:"number"},[n("span",{staticClass:"numer"},[t._v(t._s(i))]),n("span",{staticClass:"vinculum"},[t._v("/")]),n("span",{staticClass:"denom"},[t._v(t._s(t.layers.length-1))])]),n("div",{staticClass:"keyword-text"},[n("span",[t._v(t._s(e.words.join(" + ")))])])])])],2)]):t._e()})),t.currentShowMediaLayerIndex<t.layers.length?n("div",{staticClass:"recent-container"},[n("div",{ref:"returnLatestButton",staticClass:"recent-wrapper"},[t._m(1)])]):t._e()],1):t._e(),t._m(2),n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[0===t.layers.length||t.isHearing?n("div",{staticClass:"recording-state-container blink-animation"},[n("div",{staticClass:"recording-state-wrapper"},[n("div",{staticClass:"recording-state"})])]):t._e()]),n("image-detail-modal",{attrs:{isShow:t.isShowContentDetailModal,onClose:t.closeContentDetailModal,content:t.currentDetailModalContent,floorId:t.currentContentDetailModalFloor}}),t._l(t.contextMenuStatuses,function(e,i){return e?n("context-menu",{key:i,ref:e.refName,refInFor:!0,attrs:{status:e,onClickPinList:t.onClickShowPinListModal,onClickCloseButton:function(){t.closeContextMenu(e.floorId)}}}):t._e()}),t.isShowPinListModal?n("pin-list",{attrs:{isConfirmExit:t.isConfirmExit}}):t._e()],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"is-move",attrs:{id:"grid-layer"}},[n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})]),n("div",{staticClass:"grid"},[n("span",{staticClass:"line"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn circle"},[n("img",{attrs:{src:"/next100/static/img/btn_circle_return02.svg",alt:"RETURN"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"media-send-leyer"}},[n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"}),n("div",{staticClass:"send-area"})])}],a=(n("55dd"),n("7f7f"),n("7514"),n("ac6a"),n("c93e")),s=(n("96cf"),n("3040")),o=(n("c5f6"),n("cadf"),n("551c"),n("097d"),n("2f62")),l=n("a5bc"),c=n("2ef0"),u=n.n(c),d=n("c1df"),h=n.n(d),f=n("f633"),g=n("c8b5"),m=n.n(g),v=n("1157"),p=n.n(v),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"animated fadeIn faster","enter-leave-class":"animated fadeOut faster"}},[t.isShow?n("div",{staticClass:"overlay"},[n("div",{staticClass:"img-detail-box"},[n("div",{staticClass:"img-detail-container",style:t.style},[n("div",{staticClass:"img-detail-wrapper"},[n("div",{staticClass:"left-col"},[n("div",{staticClass:"item"},[n("div",{staticClass:"media-photo"},[n("img",{staticClass:"img",attrs:{src:t.content.img_url}}),t.attachedPins.length>0?n("ul",{staticClass:"pin-list"},t._l(t.attachedPins,function(t,e){return n("li",{key:e,attrs:{"data-color":t}})})):t._e(),n("button",{ref:"pinButton",staticClass:"btn-pin"})])])]),n("div",{staticClass:"right-col"},[n("h3",{staticClass:"detail-title"},[t._v(t._s(t.content.title))]),n("p",{staticClass:"detail-desc"},[t._v(t._s(t.content.desc))])])]),n("div",{staticClass:"btn return"},[n("img",{ref:"returnButton",attrs:{src:"/next100/static/img/btn_return01.svg",alt:"RETURN"}})])])])]):t._e()])},y=[],w={name:"ImageDetailModal",props:{isShow:{type:Boolean,required:!0},onClose:{type:Function,required:!0},content:{type:Object,required:!1},floorId:{type:Number,required:!0}},computed:{style:function(){return this.getModalStyleByFloorId(this.floorId)},attachedPins:function(){var t=this,e=[],n=this.content.id;return this.$store.state.loginUsers.forEach(function(i){var r=!!i.pinnedContents.find(function(t){return t.id===n});if(r){var a=t.getColorByName(i.name);e.push(a)}}),e}},watch:{isShow:{handler:function(t,e){!1===e&&!0===t?this.startListenCustomTouchStart():!0===e&&!1===t&&this.stopListenCustomTouchStart()},deep:!0}},methods:{onClickDelete:function(){confirm("この画像を削除します");var t={data:{related_content_id:this.content.id}};l["a"].delete("/next100/contents",t),this.onClose()},onClickCloseArea:function(){var t=this;setTimeout(function(){console.log("close modal by custom touch start"),t.onClose()},100)},startListenCustomTouchStart:function(){window.addEventListener("CUSTOM_TOUCH_START",this.onTouchArea)},stopListenCustomTouchStart:function(){window.removeEventListener("CUSTOM_TOUCH_START",this.onTouchArea)},onTouchArea:function(t){var e=t.detail[0];if(0===e.floorId)return!1;this.isTouchObjectByElement(e,this.$refs.pinButton)?this.onTouchPinButton(e):this.onClickCloseArea(e)},onTouchPinButton:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.togglePinByFloorId(e.floorId,this.content);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onTouchCloseArea:function(t){alert("close area touch by "+t.floorId)},getModalStyleByFloorId:function(t){var e=this.getTransformDegByFloorId(t);return{transform:"rotate(".concat(e,"deg)")}},getTransformDegByFloorId:function(t){var e={1:0,2:90,3:180,4:270};return e[t]}}},_=w,T=(n("81f7"),n("2877")),L=Object(T["a"])(_,C,y,!1,null,"081136a6",null);L.options.__file="ImageDetailModal.vue";var S=L.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLeaveConfirm?n("div",{staticClass:"context-menu leave-table context-menu-wrapper",style:t.status.style,attrs:{"data-color":t.myColor}},[n("p",{staticClass:"state-text sub animated fadeInUp"},[t._v("ARE YOU SURE?")]),t._m(0),n("div",{staticClass:"controls"},[n("div",{staticClass:"btn return animated fadeInUp fast delay-2s"},[n("a",{on:{touchstart:t.onClickLeaveCancel}},[n("img",{attrs:{src:"/next100/static/img/btn_return01.svg",alt:"戻る"}})])]),n("div",{staticClass:"btn leave animated fadeInUp fast delay-2s"},[n("a",{on:{touchstart:t.onClickLeave}},[n("img",{attrs:{src:"/next100/static/img/btn_leave01.svg",alt:"退席する"}})])])])]):n("div",{staticClass:"context-menu context-menu-wrapper",style:t.status.style,attrs:{"data-color":t.myColor}},[n("div",{staticClass:"btn-close",on:{touchstart:t.onClickCloseButton}},[n("img",{attrs:{src:"/next100/static/img/btn_close01.svg",alt:"×"}})]),n("div",{staticClass:"qr-link-box"},[n("figure",{staticClass:"qr-img"},[n("qrcode-vue",{attrs:{value:t.$_wallMixin_getWallLogUrl(t.user.name),size:120,level:"H"}})],1),n("p",{staticClass:"qr-text"},[t._v("このトークのURL")])]),n("ul",{staticClass:"menu-list"},[n("li",{staticClass:"quit"},[n("a",{on:{touchstart:t.onClickQuitConfirm}},[t._m(1),n("p",[t._v("終了する")])])]),n("li",{staticClass:"offreco"},[n("a",{on:{touchstart:t.onClickToggleMic}},[t._m(2),n("p",[t._v("オフレコ")])])]),n("li",{staticClass:"pins"},[n("a",{on:{touchstart:t.onClickPinList}},[t._m(3),n("p",[t._v("ピン一覧")])])]),n("li",{staticClass:"leave"},[n("a",{on:{touchstart:t.onClickLeaveConfirm}},[t._m(4),n("p",[t._v("退席する")])])])])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leave-img animated zoomIn fast delay-1s"},[n("img",{attrs:{src:"/next100/static/img/leave-table01.svg",alt:"LEAVE TABLE"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"menu-icon"},[n("img",{attrs:{src:"/next100/static/img/btn_icon_quit01.svg",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"menu-icon"},[n("img",{attrs:{src:"/next100/static/img/btn_icon_offreco01.svg",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"menu-icon"},[n("img",{attrs:{src:"/next100/static/img/btn_icon_pins01.svg",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"menu-icon"},[n("img",{attrs:{src:"/next100/static/img/btn_icon_leave01.svg",alt:""}})])}],x={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};function E(t){this.mode=x.MODE_8BIT_BYTE,this.data=t}E.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var b=E,P={L:1,M:0,Q:3,H:2};function k(t,e){this.totalCount=t,this.dataCount=e}k.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],k.getRSBlocks=function(t,e){var n=k.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,r=new Array,a=0;a<i;a++)for(var s=n[3*a+0],o=n[3*a+1],l=n[3*a+2],c=0;c<s;c++)r.push(new k(o,l));return r},k.getRsBlockTable=function(t,e){switch(e){case P.L:return k.RS_BLOCK_TABLE[4*(t-1)+0];case P.M:return k.RS_BLOCK_TABLE[4*(t-1)+1];case P.Q:return k.RS_BLOCK_TABLE[4*(t-1)+2];case P.H:return k.RS_BLOCK_TABLE[4*(t-1)+3];default:return}};var B=k;function D(){this.buffer=new Array,this.length=0}D.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};for(var A=D,N={glog:function(t){if(t<1)throw new Error("glog("+t+")");return N.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return N.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},O=0;O<8;O++)N.EXP_TABLE[O]=1<<O;for(O=8;O<256;O++)N.EXP_TABLE[O]=N.EXP_TABLE[O-4]^N.EXP_TABLE[O-5]^N.EXP_TABLE[O-6]^N.EXP_TABLE[O-8];for(O=0;O<255;O++)N.LOG_TABLE[N.EXP_TABLE[O]]=O;var R=N;function U(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var n=0;while(n<t.length&&0==t[n])n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}U.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=R.gexp(R.glog(this.get(n))+R.glog(t.get(i)));return new U(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=R.glog(this.get(0))-R.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=R.gexp(R.glog(t.get(i))+e);return new U(n,0).mod(t)}};var $=U,H={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},j={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(j.getBCHDigit(e)-j.getBCHDigit(j.G15)>=0)e^=j.G15<<j.getBCHDigit(e)-j.getBCHDigit(j.G15);return(t<<10|e)^j.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(j.getBCHDigit(e)-j.getBCHDigit(j.G18)>=0)e^=j.G18<<j.getBCHDigit(e)-j.getBCHDigit(j.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return j.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case H.PATTERN000:return(e+n)%2==0;case H.PATTERN001:return e%2==0;case H.PATTERN010:return n%3==0;case H.PATTERN011:return(e+n)%3==0;case H.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case H.PATTERN101:return e*n%2+e*n%3==0;case H.PATTERN110:return(e*n%2+e*n%3)%2==0;case H.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new $([1],0),n=0;n<t;n++)e=e.multiply(new $([1,R.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case x.MODE_NUMBER:return 10;case x.MODE_ALPHA_NUM:return 9;case x.MODE_8BIT_BYTE:return 8;case x.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case x.MODE_NUMBER:return 12;case x.MODE_ALPHA_NUM:return 11;case x.MODE_8BIT_BYTE:return 16;case x.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case x.MODE_NUMBER:return 14;case x.MODE_ALPHA_NUM:return 13;case x.MODE_8BIT_BYTE:return 16;case x.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var r=0;r<e;r++){for(var a=0,s=t.isDark(i,r),o=-1;o<=1;o++)if(!(i+o<0||e<=i+o))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||0==o&&0==l||s==t.isDark(i+o,r+l)&&a++;a>5&&(n+=3+a-5)}for(i=0;i<e-1;i++)for(r=0;r<e-1;r++){var c=0;t.isDark(i,r)&&c++,t.isDark(i+1,r)&&c++,t.isDark(i,r+1)&&c++,t.isDark(i+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<e;i++)for(r=0;r<e-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(r=0;r<e;r++)for(i=0;i<e-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);var u=0;for(r=0;r<e;r++)for(i=0;i<e;i++)t.isDark(i,r)&&u++;var d=Math.abs(100*u/e/e-50)/5;return n+=10*d,n}},G=j;function q(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var F=q.prototype;F.addData=function(t){var e=new b(t);this.dataList.push(e),this.dataCache=null},F.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},F.getModuleCount=function(){return this.moduleCount},F.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=B.getRSBlocks(t,this.errorCorrectLevel),n=new A,i=0,r=0;r<e.length;r++)i+=e[r].dataCount;for(r=0;r<this.dataList.length;r++){var a=this.dataList[r];n.put(a.mode,4),n.put(a.getLength(),G.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},F.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=q.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},F.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},F.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=G.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},F.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*r,o=0;o<this.modules[a].length;o++){var l=o*r,c=this.modules[a][o];c&&(i.beginFill(0,100),i.moveTo(l,s),i.lineTo(l+r,s),i.lineTo(l+r,s+r),i.lineTo(l,s+r),i.endFill())}return i},F.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},F.setupPositionAdjustPattern=function(){for(var t=G.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[i+a][r+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},F.setupTypeNumber=function(t){for(var e=G.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},F.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=G.getBCHTypeInfo(n),r=0;r<15;r++){var a=!t&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(r=0;r<15;r++){a=!t&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t},F.mapData=function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2){6==s&&s--;while(1){for(var o=0;o<2;o++)if(null==this.modules[i][s-o]){var l=!1;a<t.length&&(l=1==(t[a]>>>r&1));var c=G.getMask(e,i,s-o);c&&(l=!l),this.modules[i][s-o]=l,r--,-1==r&&(a++,r=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}},q.PAD0=236,q.PAD1=17,q.createData=function(t,e,n){for(var i=B.getRSBlocks(t,e),r=new A,a=0;a<n.length;a++){var s=n[a];r.put(s.mode,4),r.put(s.getLength(),G.getLengthInBits(s.mode,t)),s.write(r)}var o=0;for(a=0;a<i.length;a++)o+=i[a].dataCount;if(r.getLengthInBits()>8*o)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*o+")");r.getLengthInBits()+4<=8*o&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);while(1){if(r.getLengthInBits()>=8*o)break;if(r.put(q.PAD0,8),r.getLengthInBits()>=8*o)break;r.put(q.PAD1,8)}return q.createBytes(r,i)},q.createBytes=function(t,e){for(var n=0,i=0,r=0,a=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var l=e[o].dataCount,c=e[o].totalCount-l;i=Math.max(i,l),r=Math.max(r,c),a[o]=new Array(l);for(var u=0;u<a[o].length;u++)a[o][u]=255&t.buffer[u+n];n+=l;var d=G.getErrorCorrectPolynomial(c),h=new $(a[o],d.getLength()-1),f=h.mod(d);s[o]=new Array(d.getLength()-1);for(u=0;u<s[o].length;u++){var g=u+f.getLength()-s[o].length;s[o][u]=g>=0?f.get(g):0}}var m=0;for(u=0;u<e.length;u++)m+=e[u].totalCount;var v=new Array(m),p=0;for(u=0;u<i;u++)for(o=0;o<e.length;o++)u<a[o].length&&(v[p++]=a[o][u]);for(u=0;u<r;u++)for(o=0;o<e.length;o++)u<s[o].length&&(v[p++]=s[o][u]);return v};var K=q;function z(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function X(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i<2048?(e+=String.fromCharCode(192|i>>6),e+=String.fromCharCode(128|63&i)):i<55296||i>=57344?(e+=String.fromCharCode(224|i>>12),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|63&i)):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e+=String.fromCharCode(240|i>>18),e+=String.fromCharCode(128|i>>12&63),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|63&i))}return e}var Q={render:function(t){var e=this.className,n=this.value,i=this.level,r=this.background,a=this.foreground,s=this.size;return t("div",{class:e,attrs:{value:n,level:i,background:r,foreground:a}},[t("canvas",{attrs:{height:s,width:s},style:{width:s+"px",height:s+"px"},ref:"qrcode-vue"},[])])},props:{value:{type:String,required:!0,default:""},className:{type:String,default:""},size:{type:[Number,String],default:100,validator:function(t){return!0!==isNaN(Number(t))}},level:{type:String,default:"L",validator:function(t){return["L","Q","M","H"].indexOf(t)>-1}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"}},methods:{render:function(){var t=this.value,e=this.size,n=this.level,i=this.background,r=this.foreground,a=e>>>0,s=new K(-1,P[n]);s.addData(X(t)),s.make();var o=this.$refs["qrcode-vue"],l=o.getContext("2d"),c=s.modules,u=a/c.length,d=a/c.length,h=(window.devicePixelRatio||1)/z(l);o.height=o.width=a*h,l.scale(h,h),c.forEach(function(t,e){t.forEach(function(t,n){l.fillStyle=t?r:i;var a=Math.ceil((n+1)*u)-Math.floor(n*u),s=Math.ceil((e+1)*d)-Math.floor(e*d);l.fillRect(Math.round(n*u),Math.round(e*d),a,s)})})}},updated:function(){this.render()},mounted:function(){this.render()}},J=Q,Y=n("6f3e"),W={name:"ContextMenu",components:{QrcodeVue:J},mixins:[Y["a"]],props:{status:{type:Object,required:!0},onClickPinList:{type:Function,required:!0},onClickCloseButton:{type:Function,required:!0}},data:function(){return{isLeaveConfirm:!1}},methods:{onClickToggleMic:function(){var t=window.isActive;t?(createjs.Sound.play("tap_cancel"),this.$store.commit("setState",{isListeningMic:!1}),killMic()):(createjs.Sound.play("tap"),this.$store.commit("setState",{isListeningMic:!0}),activateMic())},getTransformDegByFloorId:function(t){var e={1:0,2:90,3:180,4:270};return e[t]},onClickLeave:function(){var t=this.status.floorId;this.isLeaveConfirm=!1,this.onClickCloseButton(),this.logout(t)},onClickQuitConfirm:function(){this.onClickCloseButton(),this.$store.commit("updateLoginUser",{floorId:this.status.floorId,params:{isConfirmTalkEndModal:!0}})},onClickLeaveConfirm:function(){createjs.Sound.play("tap_cancel"),this.isLeaveConfirm=!0},onClickLeaveCancel:function(){createjs.Sound.play("tap"),this.isLeaveConfirm=!1,this.onClickCloseButton()}},computed:{myColor:function(){return this.getColorMap()[this.status.floorId]},user:function(){var t=this;return this.$store.state.loginUsers.find(function(e){return e.floorId===t.status.floorId})}}},V=W,Z=(n("8dd6"),Object(T["a"])(V,I,M,!1,null,"4d5f4e4b",null));Z.options.__file="ContextMenu.vue";var tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"animated fadeIn faster"}},[n("div",{staticClass:"overlay"},[t._l(t.loginUsers,function(e,i){return n("div",{key:i,class:"user-"+t.getDirectionMap()[e.floorId]+" user-box",attrs:{"data-color":t.getColorMap()[e.floorId]}},[n("div",{staticClass:"pin-img-list-container"},[n("div",{staticClass:"pin-img-list-wrapper"},t._l(t.chunk(e.pinnedContents,t.chunkNum),function(e,i){return n("div",{key:i,staticClass:"pin-img-list-slide"},[n("ul",{staticClass:"pin-img-list"},t._l(e,function(t,e){return n("li",{key:e,staticClass:"item"},[n("div",{staticClass:"media-photo",style:{backgroundImage:"url("+t.img_url+")"}},[n("img",{staticClass:"img",attrs:{src:"https://tse1.mm.bing.net/th?id=OIP.YKjBVc2Xt1k57Z91kGx5nQHaKw&pid=Api"}}),n("ul",{staticClass:"pin-list"})])])}))])}))]),e.pinnedContents.length>t.chunkNum?n("div",{staticClass:"pin-img-list-arrow"},[n("div",{staticClass:"pin-img-list-arrow-next"}),n("div",{staticClass:"pin-img-list-arrow-prev"})]):t._e(),n("div",{staticClass:"qr-link-box"},[n("figure",{staticClass:"qr-img"},[n("qrcode-vue",{staticClass:"qrcode",attrs:{value:t.$_wallMixin_getWallLogUrl(e.name),size:120,level:"H"}})],1),n("p",{staticClass:"qr-text"},[t._v("このトークのURL")])])])}),n("div",{staticClass:"control-box"},[n("div",{staticClass:"btn circle",on:{touchstart:t.onClose}},[n("img",{attrs:{src:"/next100/static/img/btn_circle_return01.svg",alt:"RETURN"}})]),t.isConfirmExit?n("div",{staticClass:"btn circle"},[n("a",{on:{touchstart:t.onExit}},[n("img",{attrs:{src:"/next100/static/img/btn_circle_quit01.svg",alt:"QUIT"}})])]):t._e()])],2)])},nt=[],it={name:"PinList",props:{chunkNum:{type:Number,default:10}},components:{QrcodeVue:J},mixins:[Y["a"]],methods:{chunk:function(t,e){return u.a.chunk(t,e)},onExit:function(){createjs.Sound.play("tap"),location.href="/next100"},getDirectionMap:function(){var t={1:"bottom",2:"left",3:"top",4:"right"};return t},onClose:function(){createjs.Sound.play("tap_cancel"),this.$store.commit("setState",{isShowPinListModal:!1})}},computed:Object(a["a"])({},Object(o["c"])(["loginUsers","isConfirmExit"]))},rt=it,at=(n("2dab"),Object(T["a"])(rt,et,nt,!1,null,"6c853030",null));at.options.__file="PinList.vue";var st=at.exports,ot=100,lt={name:"Meeting",mixins:[f["a"]],components:{ImageDetailModal:S,ContextMenu:tt,PinList:st},props:{maxLayerNum:{type:Number,default:10},maxContentNum:{type:Number,default:10}},mounted:function(){this.startHearingStatus()},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return createjs.Sound.play("grid"),e={wallId:this.$route.params.wallId},window.key?startRecognizeSpeachSDK(e):window.addEventListener("RECOGNIZER_CONFIG_FETCH_COMPLETE",function(){startRecognizeSpeachSDK(e)}),this.listenPersonalTouch(),this.initializePinchEvent(),this.fetchAllUsersPinStatus(),t.next=8,this.fetchTranscripts();case 8:return this.currentShowMediaLayerIndex=this.layers.length,this.$route.query.stopPolling||this.startListenTranscriptsUpdate(),t.next=12,this.$nextTick();case 12:this.calcSendPosition(),window.fetchTranscripts=this.fetchTranscripts,window.startListenTranscriptsUpdate=this.startListenTranscriptsUpdate,window.stopListenTranscriptsUpdate=this.stopListenTranscriptsUpdate,this.listenLayerIndexChange();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{moment:h.a,currentShowMediaLayerIndex:0,currentShowMediaPoiner:0,fetchTranscriptsInterval:null,layers:[],isShowContentDetailModal:!1,currentContentDetailModalFloor:1,currentDetailModalContent:null,contextMenuStatuses:[],positionMap:[],cachedLayerStyles:[],lastRelatedContents:[],lastSearches:[],isHearing:!1,lastHearingStartTime:(new Date).getTime()}},computed:Object(a["a"])({},Object(o["c"])(["isConfirmExit","isShowPinListModal"]),Object(o["b"])(["isShowUserOverlay"]),{minLayerIndex:function(){return this.currentShowMediaLayerIndex-this.maxLayerNum},maxLayerIndex:function(){return this.currentShowMediaLayerIndex-1},aggregatedLayers:function(){var t=this,e=this.layers,n=[];return this.$store.state.loginUsers.forEach(function(t){t.pinnedContents.length&&(n=n.concat(t.pinnedContents))}),e.map(function(e){return e.related_contents=e.related_contents.map(function(e){var n=t.$store.state.loginUsers.filter(function(t){return t.pinnedContents.find(function(t){return t.id===e.id})}),i=n.map(function(t){return{user:t,content:t.pinnedContents.find(function(t){return t.id===e.id})}});return e.usersPinContents=i,e}),e}),e}}),methods:{startHearingStatus:function(){var t=this,e=1e4,n=3e3;window.addEventListener("TRANSPARENT_RECORDING_PROGRESS",function(){t.isHearing=!0,t.lastHearingStartTime=(new Date).getTime()}),window.addEventListener("TRANSPARENT_RECORDING_STOP",function(){t.isHearing=!1,t.lastHearingStartTime=(new Date).getTime()-e}),setInterval(function(){var n=(new Date).getTime();n>=t.lastHearingStartTime+e&&(t.isHearing=!1)},n)},onClickReturnLatestLayer:function(){this.updateLatestCurrentShowMediaLayerIndex()},onClickShowPinListModal:function(){createjs.Sound.play("tap"),this.$store.commit("setState",{isConfirmExit:!1,isShowPinListModal:!0})},fetchAllUsersPinStatus:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.key,n="/next100/wall/".concat(e,"/pinned"),t.next=4,l["a"].get(n);case 4:i=t.sent,r=i.data,a=this.$store.state.loginUsers.map(function(t){var e=r.filter(function(e){return!!e.pins&&e.pins.filter(function(e){return e.eventuser_id===t.name}).length>0});return t.pinnedContents=e,t}),this.$store.commit("setState",{loginUsers:a});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),listenLayerIndexChange:function(){var t=this;window.addEventListener("keydown",function(e){"ArrowUp"===e.key?t.incrementCurrentShowMediaLayerIndex():"ArrowDown"===e.key&&t.decrementCurrentShowMediaLayerIndex()})},updateLatestCurrentShowMediaLayerIndex:function(){this.currentShowMediaLayerIndex=this.layers.length},incrementCurrentShowMediaLayerIndex:function(){this.currentShowMediaLayerIndex+1>=this.layers.length?this.currentShowMediaLayerIndex=this.layers.length:this.currentShowMediaLayerIndex+=1,this.currentShowMediaPointer+1>=this.layers.length?this.currentShowMediaPoiner=this.layers.length:this.currentShowMediaPoiner+=1},decrementCurrentShowMediaLayerIndex:function(){this.currentShowMediaLayerIndex-1<=0?this.currentShowMediaLayerIndex=0:this.currentShowMediaLayerIndex-=1,this.currentShowMediaPoiner-1<=0?this.currentShowMediaPoiner=0:this.currentShowMediaPoiner-=1},listenPersonalTouch:function(){window.addEventListener("CUSTOM_TOUCH_START",this.onTouchStartTable),window.addEventListener("CUSTOM_TOUCH_END",this.onTouchEndTable)},fetchTranscripts:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.wallId,n="/next100/contents?wall_id=".concat(e),t.next=4,l["a"].get(n);case 4:i=t.sent,r=i.data,a=r.searches,r.search_first_index,r.search_last_index,s=r.related_contents,r.related_content_last_index,this.lastRelatedContents=s||[],this.lastSearches=a||[],this.updateLayers(a,s);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),updateLayers:function(t,e){var n=this,i=t.map(function(t){return t.related_contents=e.filter(function(e){return e.transcript_id===t.transcript_id}),t});i=i.filter(function(t){return t.related_contents&&t.related_contents.length>0});var r=i.length>this.layers.length;if(this.layers[0]&&this.layers[0].id===i[0].id)return!1;this.layers=i.reverse(),r&&setTimeout(function(){n.updateLatestCurrentShowMediaLayerIndex()},100)},onClickImage:function(t){var e=t.floorId,n=t.contentId;console.log("open modal by custom touch start"),this.openContentDetailModal({floorId:e,contentId:n})},openContentDetailModal:function(t){var e=t.floorId,n=t.contentId;if(!this.isShowContentDetailModal){createjs.Sound.play("tap"),this.currentContentDetailModalFloor=e;var i=this.layers.find(function(t){return t.related_contents.find(function(t){return t.id===n})});if(!i)return!1;var r=i.related_contents.find(function(t){return t.id===n});this.currentDetailModalContent=r,this.isShowContentDetailModal=!0,this.contentDetailOpenTime=(new Date).getTime()}},closeContentDetailModal:function(){createjs.Sound.play("tap_cancel"),this.isShowContentDetailModal=!1},isContentDetailGuardTime:function(){var t=1e3,e=(new Date).getTime()-this.contentDetailOpenTime;return e<=t},onTouchEndTable:function(t){if(this.isGuardTouchEvent())return!1;var e=t.detail[0],n=this.$store.state.loginUsers.find(function(t){return t.floorId===e.floorId}),i=(new Date).getTime()-n.lastCustomTouchStartTime,r=300<=i&&i<=2e3,a=this.$refs["context-menu-".concat(e.floorId)];a&&a.length>0&&!this.isTouchObjectByElement(e,a[0].$el)&&this.isExistContextMenuByFloorId(e.floorId)?this.closeContextMenu(e.floorId):r&&this.openContextMenu(e)},onTouchStartTable:function(t){var e=this;if(this.isGuardTouchEvent())return!1;var n=t.detail[0];this.$store.state.loginUsers.find(function(t){return t.floorId===n.floorId});if(0===n.floorId)return!1;this.$store.commit("updateLoginUser",{floorId:n.floorId,params:{lastCustomTouchStartTime:(new Date).getTime()}});var i=this.$refs.returnLatestButton;if(i&&this.isTouchObjectByElement(n,i))return this.updateLatestCurrentShowMediaLayerIndex(),!1;var r=this.$refs.pinButtonOnList&&this.$refs.pinButtonOnList.find(function(t){return e.isTouchObjectByElement(n,t)});if(r){var a=Number(r.getAttribute("data-content-id")),s=this.aggregatedLayers.find(function(t){return t.related_contents.find(function(t){return t.id===a})}),o=s.related_contents.find(function(t){return t.id===a});return this.togglePinByFloorId(n.floorId,o),!1}if(0===n.floorId)return alert("テーブルサイドに立ってタップしてください"),!1;var l=!!this.$store.state.loginUsers.find(function(t){return t.floorId===n.floorId});if(!l)return this.login(n.floorId),!1;var c=this.$refs["context-menu-".concat(n.floorId)];if(c&&c[0]&&c[0].$el&&this.isTouchObjectByElement(n,c[0].$el))return!1;var u=!1,d=[];if(this.$refs.images&&this.$refs.images.forEach(function(t){if(e.isTouchObjectByElement(n,t))return u=!0,d.push(t),!1}),u){d.sort(function(t,e){var n=Number(t.getAttribute("data-content-id")),i=Number(e.getAttribute("data-content-id"));return n<i?-1:1});var h=d[0],f=n.floorId,g=Number(h.getAttribute("data-content-id"));return this.onClickImage({floorId:f,contentId:g}),!1}},isExistContextMenuByFloorId:function(t){return!!this.contextMenuStatuses.find(function(e){return e.floorId===t})},openContextMenu:function(t){createjs.Sound.play("tap");var e=this.contextMenuStatuses.find(function(e){return e.floorId===t.floorId});if(e)return console.log("is exist context menu floor id: "+t.floorId),!1;var n=t.x,i=t.y,r=704,a=704;n>window.innerWidth-r?n=window.innerWidth-r:n<r&&(n=0),i>window.innerHeight-a?i=window.innerHeight-a:i<a&&(i=0);var s=this.getTransformDegByFloorId(t.floorId),o={position:"absolute",left:"".concat(n,"px"),top:"".concat(i,"px"),transform:"rotate(".concat(s,"deg)")},l="context-menu-".concat(t.floorId),c={floorId:t.floorId,style:o,refName:l};this.contextMenuStatuses.push(c)},closeContextMenu:function(t){createjs.Sound.play("tap_cancel"),this.contextMenuStatuses=this.contextMenuStatuses.filter(function(e){return e.floorId!==t})},getStyleByContextMenuPosition:function(){},openPinList:function(){},createPin:function(){},removePin:function(){},offRecord:function(){},leave:function(){},exitWall:function(){},removeContent:function(){},removeWord:function(){},getTransformDegByFloorId:function(t){var e={1:0,2:90,3:180,4:270};return e[t]},initializePinchEvent:function(){var t=document.querySelector("#app"),e=new m.a(t);e.get("pinch").set({enable:!0}),e.on("pinchout",u.a.debounce(this.onPinchOut,ot)),e.on("pinchin",u.a.debounce(this.onPinchIn,ot))},onPinchOut:function(){if(this.isGuardTouchEvent())return!1;this.decrementCurrentShowMediaLayerIndex()},onPinchIn:function(){if(this.isGuardTouchEvent())return!1;this.incrementCurrentShowMediaLayerIndex()},isGuardTouchEvent:function(){return!!this.isShowContentDetailModal||(!!this.isShowPinListModal||(!!this.isContentDetailGuardTime()||!!this.isShowUserOverlay))},randNum:function(t,e){return Math.floor(Math.random()*(t-e+1)+e)},arreyShuffle:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}},calcSendPosition:function(){var t=[];p()("#media-send-leyer .send-area").each(function(e){var n=parseInt(p()(this).offset().left),i=parseInt(p()(this).offset().top),r=parseInt(n+p()(this).width()),a=parseInt(i+p()(this).height()),s={};s.x=n,s.y=i,s.x_max=r,s.y_max=a,t[e]=s}),this.arreyShuffle(t),this.positionMap=t},getLayerStyle:function(t){var e=["1deg","-0deg","-1deg","-2deg","-3deg","-4deg","-3deg","-2deg","-1deg","0deg"],n=.2,i=this.maxLayerIndex-t,r=Math.pow(n,i),a={transform:"scale(".concat(r,") rotate(").concat(e[t%e.length],")"),transition:"all .5s"};return a},getImageStyle:function(t,e){var n=this.cachedLayerStyles[t]&&this.cachedLayerStyles[t][e]||null;if(n)return n;var i=this.positionMap,r=e%i.length,a=["0deg","90deg","180deg","270deg"],s=u.a.random(i[r].y_max,i[r].y),o=u.a.random(i[r].x_max,i[r].x);this.arreyShuffle(a);var l={top:s+"px",left:o+"px",transform:"rotate("+a[e%a.length]+")"};return this.cachedLayerStyles[t]||(this.cachedLayerStyles[t]=[]),this.cachedLayerStyles[t][e]=l,l},getKeywordColor:function(t){var e=["red","blue","green","yellow","purple","vermilion","yellowgreen","orange","lightblue","gold","pink","bluegreen","white"],n=t%this.positionMap.length;return e[n]},updateLayer:function(){l["a"].get("")},startListenTranscriptsUpdate:function(){var t=this;this.fetchTranscriptsInterval=setInterval(function(){t.fetchTranscripts()},1e3)},stopListenTranscriptsUpdate:function(){clearInterval(this.fetchTranscriptsInterval),this.fetchTranscriptsInterval=null},convertJSONString:function(t){return JSON.stringify(t)}}},ct=lt,ut=(n("f0e5"),n("25f7"),Object(T["a"])(ct,i,r,!1,null,"f41e938e",null));ut.options.__file="Meeting.vue";e["default"]=ut.exports},d399:function(t,e,n){},f0e5:function(t,e,n){"use strict";var i=n("bbcc"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-34233b9d.79b16618.js.map