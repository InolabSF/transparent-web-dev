(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r={app:0},s=[];function i(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-0442dfba":"20646314","chunk-2d0aa5b8":"fc44a058","chunk-0da20002":"e2067225","chunk-1a7e384e":"fc83a066","chunk-224d5466":"103abdad","chunk-2d217ffe":"3543320f","chunk-302fbea9":"d5d7c994","chunk-40fc1924":"68f48171","chunk-a32405ec":"cd15cc5c","chunk-4ccce53a":"7cfaa84a","chunk-623f7d55":"f831ecd5","chunk-6dd41ba2":"06334d60","chunk-701c72bc":"9939a4af","chunk-a00acac8":"ad46c44e","chunk-e99b2cea":"b189554a"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0442dfba":1,"chunk-0da20002":1,"chunk-1a7e384e":1,"chunk-224d5466":1,"chunk-302fbea9":1,"chunk-40fc1924":1,"chunk-a32405ec":1,"chunk-4ccce53a":1,"chunk-623f7d55":1,"chunk-6dd41ba2":1,"chunk-701c72bc":1,"chunk-a00acac8":1,"chunk-e99b2cea":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-0442dfba":"091569a3","chunk-2d0aa5b8":"31d6cfe0","chunk-0da20002":"d9440888","chunk-1a7e384e":"83569553","chunk-224d5466":"04a970cd","chunk-2d217ffe":"31d6cfe0","chunk-302fbea9":"df9c1121","chunk-40fc1924":"fd44a5b2","chunk-a32405ec":"2e5c8053","chunk-4ccce53a":"100390a7","chunk-623f7d55":"23e7f2d1","chunk-6dd41ba2":"90d12f6a","chunk-701c72bc":"cf679d23","chunk-a00acac8":"903c6d8c","chunk-e99b2cea":"2103383b"}[e]+".css",o=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===a||u===o))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){i=l[s],u=i.getAttribute("data-href");if(u===a||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.request=a,n(r)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=s);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e),u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");s.type=a,s.request=o,n[1](s)}r[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/next100/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("c21b"),o=n.n(a);o.a},"0933":function(e,t,n){},"0996":function(e,t,n){},"0e65":function(e,t,n){"use strict";var a=n("20d5"),o=n.n(a);o.a},1:function(e,t){},"20d5":function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="4678"},"4c71":function(e,t,n){"use strict";var a=n("0996"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"mobile"===e.$route.meta.layout?n("mobile-layout",[n("router-view")],1):n("default-layout",[n("router-view")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{staticClass:"wrapper",attrs:{name:"hello-world"}},[n("div",{staticClass:"p4"},[n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"production"},domProps:{checked:e._q(e.selectedMode,"production")},on:{change:function(t){e.selectedMode="production"}}}),e._v(" 本番モード（要専用ドライバ）\n    ")]),n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"preview"},domProps:{checked:e._q(e.selectedMode,"preview")},on:{change:function(t){e.selectedMode="preview"}}}),e._v(" プレビューモード（Webブラウザ単体で動きます）\n    ")]),n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"developer"},domProps:{checked:e._q(e.selectedMode,"developer")},on:{change:function(t){e.selectedMode="developer"}}}),e._v(" 開発者専用モード\n    ")]),n("div",[n("button",{attrs:{type:"submit"},on:{click:e.onClickSelectMode}},[e._v("OK")])]),n("div",[n("small",[n("router-link",{attrs:{to:"/test-index"}},[e._v("モックindex")])],1)])])])},i=[],c=n("c93e"),u=n("f633"),l=n("2f62"),d={name:"ModeSelectModal",mixins:[u["a"]],data:function(){return{selectedMode:"production"}},computed:Object(c["a"])({},Object(l["c"])(["isModeSelectFinished"])),methods:{onClickSelectMode:function(){this.$store.commit("setState",{customTouchMode:this.selectedMode}),this.startObserver(),this.$store.commit("setState",{isModeSelectFinished:!0}),this.$modal.hide("hello-world")}}},f=d,h=(n("0e65"),n("2877")),m=Object(h["a"])(f,s,i,!1,null,"52541d38",null);m.options.__file="ModeSelectModal.vue";m.exports;var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"debug-control",on:{click:e.test}},[n("label",{staticClass:"block"},[e._v("\n    固定フロアID:\n    "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.floorId,expression:"floorId"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.floorId=t.target.multiple?n:n[0]},e.onChangeFloorId]}},[n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")])])])])},b=[],v=(n("c5f6"),{name:"DebugControl",data:function(){return{floorId:this.debugParams.currentFloorId}},computed:Object(c["a"])({},Object(l["c"])(["debugParams"])),methods:{test:function(e){},onChangeFloorId:function(){this.$store.commit("setDebugParams",{currentFloorId:Number(this.floorId)})}}}),g=v,j=(n("9ef5"),Object(h["a"])(g,p,b,!1,null,"82d8ce16",null));j.options.__file="DebugControl.vue";var y=j.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:e.$route.name}},[n("div",{class:{"offreco-active":!e.$store.state.isListeningMic},attrs:{id:"wrapper"}},[e._t("default"),n("div",{class:{"is-small":e.isSmallHue},attrs:{id:"hue"}}),"opening"!==e.$route.name?n("user-layer"):e._e()],2)])])},w=[],_=(n("6762"),n("386d"),n("72bf")),C=n.n(_),S=n("5ab3"),U={name:"DefaultLayout",mixins:[u["a"]],components:{UserLayer:S["a"]},created:function(){this.initCustomTouchMode(),this.initUserSwitchDebugger()},computed:Object(c["a"])({},Object(l["c"])(["isSmallHue"])),methods:{initCustomTouchMode:function(){var e=["production","preview","development"],t=C.a.parse(location.search),n=t.mode,a=localStorage.getItem("customTouchMode");!n&&a&&"production"!==a&&confirm("".concat(a,"モードで再開しますか？"))&&(n=a),e.includes(n)||(n="production"),console.log("mode:"+n),this.$store.commit("setState",{customTouchMode:n}),localStorage.setItem("customTouchMode",n),this.startObserver()},initUserSwitchDebugger:function(){var e=this,t=this.$store.state.customTouchMode;"preview"===t&&window.addEventListener("keydown",function(t){var n=e.$store.state.debugParams.currentFloorId;if("ArrowLeft"===t.code){var a=n-1>=1?n-1:1;e.$store.commit("setDebugParams",{currentFloorId:a})}else if("ArrowRight"===t.code){var o=n+1<=4?n+1:4;e.$store.commit("setDebugParams",{currentFloorId:o})}})}}},I=U,x=Object(h["a"])(I,k,w,!1,null,null,null);x.options.__file="DefaultLayout.vue";var M=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mobile"}},[e._t("default")],2)},O=[],E={name:"MobileLayout"},$=E,P=Object(h["a"])($,T,O,!1,null,null,null);P.options.__file="MobileLayout.vue";var L=P.exports,F=n("dff0"),B=n.n(F),D={name:"App",components:{DebugControl:y,DefaultLayout:M,MobileLayout:L},mounted:function(){this.initSound()},created:function(){var e=this;setTimeout(function(){e.showSettingModal()}),window.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.startSyncLoginUsers()},methods:{startSyncLoginUsers:function(){var e=this;this.$store.watch(function(e){return e.loginUsers},function(t){console.log("loginUsers Synced:",t),localStorage.setItem("loginUsers",B()(e.$store.state.loginUsers))})},showSettingModal:function(){this.$modal.show("hello-world")},initSound:function(){createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),createjs.Sound.alternateExtensions=["mp3"],createjs.Sound.registerSound("/next100/static/sounds/tap.mp3","tap"),createjs.Sound.registerSound("/next100/static/sounds/tap_cancel.mp3","tap_cancel"),createjs.Sound.registerSound("/next100/static/sounds/tap_pin.mp3","tap_pin"),createjs.Sound.registerSound("/next100/static/sounds/login.mp3","login"),createjs.Sound.registerSound("/next100/static/sounds/hue.mp3","hue"),createjs.Sound.registerSound("/next100/static/sounds/grid.mp3","grid")}}},N=D,z=(n("034f"),Object(h["a"])(N,o,r,!1,null,null,null));z.options.__file="App.vue";var R=z.exports,H=n("8c4f");a["a"].use(H["a"]);var A=new H["a"]({mode:"history",base:"/next100/",routes:[{path:"/test-index",name:"test-index",component:function(){return n.e("chunk-6dd41ba2").then(n.bind(null,"f819"))}},{path:"/meeting-test",name:"meeting-test",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-1a7e384e")]).then(n.bind(null,"08bb"))}},{path:"/test-log",name:"test-log",component:function(){return n.e("chunk-701c72bc").then(n.bind(null,"bf80"))}},{path:"/test-hold",name:"test-hold",component:function(){return n.e("chunk-e99b2cea").then(n.bind(null,"cd77"))}},{path:"/test-pinch",name:"test-pinch",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-a32405ec")]).then(n.bind(null,"15f7"))}},{path:"/test-scroll",name:"test-scroll",component:function(){return n.e("chunk-0442dfba").then(n.bind(null,"2f15"))}},{path:"/test-hit",name:"test-hit",component:function(){return n.e("chunk-a00acac8").then(n.bind(null,"6abc"))}},{path:"/test-transcripts/:wallId",name:"test-transcripts",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-40fc1924")]).then(n.bind(null,"6fba"))}},{path:"/",name:"opening",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-0da20002")]).then(n.bind(null,"bb51"))}},{path:"/welcome",name:"welcome",component:function(){return n.e("chunk-4ccce53a").then(n.bind(null,"eec5"))}},{path:"/walls/:wallId/meeting",name:"meeting",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-302fbea9")]).then(n.bind(null,"d13f"))}},{path:"/walls/:wallId/logs",name:"wallLogs",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-224d5466")]).then(n.bind(null,"fd76"))},meta:{layout:"mobile"}},{path:"*",name:"notFound",component:function(){return n.e("chunk-623f7d55").then(n.bind(null,"9703"))}}]});n("7514"),n("f751");a["a"].use(l["a"]);var q,Q=-1!==location.pathname.indexOf("meeting");if(Q){var W=localStorage.getItem("loginUsers"),J=W?JSON.parse(W):[];q=J}var X=new l["a"].Store({state:{loginUsers:q||[],isModeSelectFinished:!1,customTouchMode:"production",debugParams:{currentFloorId:1},touchingQueues:[],isStartTalkModal:!1,isSmallHue:!1,isListeningMic:!0,isConfirmExit:!1,isShowPinListModal:!1},mutations:{setState:function(e,t){e=Object.assign(e,t)},addLoginUser:function(e,t){e.loginUsers.push(t)},removeLoginUser:function(e,t){e.loginUsers=e.loginUsers.filter(function(e){return e.floorId!==t})},updateLoginUser:function(e,t){var n=t.floorId,a=t.params,o=e.loginUsers.find(function(e){return e.floorId===n})||{};Object.assign(o,a)},updateAllLoginUser:function(e,t){var n=t.params;e.loginUsers=e.loginUsers.map(function(e){return Object.assign(e,n),e})},enqueueTouchingQueue:function(e,t){var n=t.floorId,a=t.time;e.touchingQueues.push({floorId:n,time:a})},dequeueTouchingQueue:function(e,t){var n=t.floorId;e.touchingQueues=e.touchingQueues.filter(function(e){return e.floorId==n})},setDebugParams:function(e,t){e.debugParams=Object.assign(e.debugParams,t)},addPinByFloorId:function(e,t){var n=t.floorId,a=t.content;e.loginUsers=e.loginUsers.map(function(e){return e.floorId===n?(e.pinnedContents.push(a),e):e})},deletePinByFloorId:function(e,t){var n=t.floorId,a=t.contentId;e.loginUsers=e.loginUsers.map(function(e){return e.floorId===n?(e.pinnedContents=e.pinnedContents.filter(function(e){return e.id!==a}),e):e})}},actions:{},getters:{isShowUserOverlay:function(e){return!!e.loginUsers.find(function(e){return e.isConfirmTalkEndModal})}}}),K=n("1881"),V=n.n(K),Y=n("8d29");n("77ed");a["a"].config.productionTip=!1,a["a"].use(V.a),a["a"].mixin(Y["a"]),a["a"].mixin(u["a"]),new a["a"]({router:A,store:X,render:function(e){return e(R)}}).$mount("#app")},"5ab3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user-layer"}},[n("transition",{attrs:{"enter-active-class":"animated fadeIn faster"}},[e.isShowUserOverlay?n("div",{staticClass:"user-overlay"}):e._e()]),e._l(e.loginUsers,function(e){return n("user-profile",{key:e.floorId,attrs:{user:e}})})],2)},o=[],r=n("c93e"),s=n("2f62"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{class:e.userClass(),attrs:{"data-color":e.userColor()}},[n("div",{staticClass:"touch-state-box"},[e.user.isStartTalkModal?[n("p",{staticClass:"state-text animated fadeInUp"},[e._v("START!")]),n("figure",{staticClass:"icon-touch animated zoomIn fast delay-1s"},[n("img",{attrs:{src:"/next100/static/img/icon-touch01.svg",alt:"TOUCH"}})]),n("div",{staticClass:"controls"},[n("div",{staticClass:"btn return animated fadeInUp fast delay-2s"},[n("a",{on:{click:e.onClickReturnForStart}},[n("img",{attrs:{src:"/next100/static/img/btn_return01.svg",alt:"戻る"}})])]),n("div",{staticClass:"btn return animated fadeInUp fast delay-2s"},[n("a",{on:{click:e.onClickStart}},[n("img",{attrs:{src:"/next100/static/img/btn_start01.svg",alt:"始める"}})])])])]:e.user.isConfirmTalkEndModal?[n("p",{staticClass:"state-text sub animated fadeInUp"},[e._v("ARE YOU SURE?")]),n("p",{staticClass:"state-text animated fadeInUp delay-1s"},[e._v("QUIT TALK")]),n("figure",{staticClass:"icon-touch animated zoomIn fast delay-1s"},[n("img",{attrs:{src:"/next100/static/img/icon-touch01.svg",alt:"TOUCH"}})]),n("div",{staticClass:"controls"},[n("div",{staticClass:"btn return animated fadeInUp fast delay-2s"},[n("a",{on:{click:e.onClickReturnForQuit}},[n("img",{attrs:{src:"/next100/static/img/btn_return01.svg",alt:"戻る"}})])]),n("div",{staticClass:"btn return animated fadeInUp fast delay-2s"},[n("a",{on:{click:e.onClickQuit}},[n("img",{attrs:{src:"/next100/static/img/btn_quit01.svg",alt:"終了する"}})])])])]:e.isWelcome?[n("transition",{attrs:{"enter-active-class":"animated fadeInUp"}},[n("p",{ref:"welcome",staticClass:"state-text"},[e._v("WELCOME!")])])]:"welcome"===e.$route.name?[n("p",{key:"1",staticClass:"state-text animated fadeInUp"},[e._v("TOUCH!")]),n("figure",{key:"2",staticClass:"icon-touch animated zoomIn fast delay-1s"},[n("img",{attrs:{src:"/next100/static/img/icon-touch01.svg",alt:"TOUCH"}})])]:e._e()],2),n("div",{staticClass:"user-avatar animated fadeInUp fast delay-1s"}),n("div",{staticClass:"user-name animated fadeInUp fast delay-2s"})])])},c=[],u=(n("7f7f"),n("a322")),l=n("6f3e"),d={name:"UserProfile",mixins:[l["a"]],props:{user:{type:Object,required:!0}},data:function(){return{isWelcome:!0}},created:function(){var e=this;setTimeout(function(){e.isWelcome=!1},4e3)},methods:{userClass:function(){var e,t=this.getDirectionClassByFloorId(this.user.floorId),n=(e={},Object(u["a"])(e,"user-".concat(t),!0),Object(u["a"])(e,"user-box",!0),e);return n},getDirectionClassByFloorId:function(){var e={1:"bottom",2:"left",3:"top",4:"right"};return e[this.user.floorId]},onClickReturnForStart:function(){createjs.Sound.play("tap_cancel"),this.$store.commit("updateAllLoginUser",{params:{isStartTalkModal:!1}}),this.$store.commit("setState",{isSmallHue:!1})},onClickReturnForQuit:function(){createjs.Sound.play("tap_cancel"),this.$store.commit("updateLoginUser",{floorId:this.user.floorId,params:{isConfirmTalkEndModal:!1}})},onClickStart:function(){createjs.Sound.play("tap"),this.$_wallMixin_startMeeting()},onClickQuit:function(){createjs.Sound.play("tap"),this.$store.commit("updateAllLoginUser",{params:{isConfirmTalkEndModal:!1}}),this.$store.commit("setState",{isConfirmExit:!0,isShowPinListModal:!0})},userColor:function(){return this.getColorByName(this.user.name)}}},f=d,h=(n("dbe9"),n("2877")),m=Object(h["a"])(f,i,c,!1,null,"3e5341e9",null);m.options.__file="UserProfile.vue";var p=m.exports,b={name:"UserLayer",components:{UserProfile:p},data:function(){return{isWelcome:!0}},methods:{},computed:Object(r["a"])({},Object(s["c"])(["loginUsers"]),Object(s["b"])(["isShowUserOverlay"]))},v=b,g=(n("4c71"),Object(h["a"])(v,a,o,!1,null,"6358db20",null));g.options.__file="UserLayer.vue";t["a"]=g.exports},"6f3e":function(e,t,n){"use strict";n("96cf");var a=n("3040"),o=n("a5bc"),r=n("c1df"),s=n.n(r);t["a"]={methods:{$_wallMixin_getWallLogUrl:function(e){var t=location.origin+"/next100/walls/".concat(this.$route.params.wallId,"/logs?key=").concat(this.$route.query.key,"&eventUserId=").concat(e);return t},$_wallMixin_startMeeting:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$_wallMixin_createWall();case 2:t=e.sent,n=t.data,this.$router.push("/walls/".concat(n.id,"/meeting?key=").concat(t.data.key)),this.$store.commit("setState",{isSmallHue:!1}),this.$store.commit("setState",{loginUsers:this.$store.state.loginUsers.map(function(e){return e.isStartTalkModal=!1,e})});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),$_wallMixin_createWall:function(){var e=s()().format("MMDDHHm"),t={name:"NEXT100-".concat(e),default_langcode:0,version:"next100"};return o["a"].post("/walls",t)}}}},"8d29":function(e,t,n){"use strict";n("96cf");var a=n("3040"),o=(n("28a5"),n("6762"),n("2fdb"),n("7f7f"),n("7514"),n("cadf"),n("551c"),n("097d"),n("a5bc")),r=n("8dee"),s=n.n(r),i=n("2ef0"),c=n.n(i),u=4;s.a.characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+*");var l=["green","red","yellow","blue","purple","cyan","orange","pink"];t["a"]={methods:{login:function(e){var t=!!this.$store.state.loginUsers.find(function(t){return t.floorId===e});if(t)return!1;var n={floorId:e,name:this.getName(),pinnedContents:[],isStartTalkModal:!1,isConfirmTalkEndModal:!1,lastCustomTouchStartTime:(new Date).getTime()};if(!(this.$store.state.loginUsers.length<u))throw"参加人数は4名まで";createjs.Sound.play("login"),this.$store.commit("addLoginUser",n)},logout:function(e){this.$store.commit("removeLoginUser",e)},getName:function(){var e=this,t=s.a.generate(),n=this.$store.state.loginUsers.map(function(t){return e.getColorByName(t.name)}),a=l.filter(function(e){return!n.includes(e)}),o=a[c.a.random(a.length-1)],r="".concat(t,"-").concat(o);return r},getColorByName:function(e){var t=e.split("-");return t.length<=1?"red":t[1]},getStyleByFloorId:function(e){var t={1:{bottom:0,left:"auto",right:"auto"},2:{bottom:"auto",left:0,top:"auto"},3:{top:0,left:"auto",right:"auto"},4:{bottom:"auto",right:0,top:"auto"}};return t[e]},getUserByFloorId:function(e){var t=this.$store.state.loginUsers.find(function(t){return t.floorId===e});return t},isPinedByFloorId:function(e,t){var n=this.getUserByFloorId(e);return n.pinnedContents.find(function(e){return e.id===t})},togglePinByFloorId:function(e,t){var n=this.getUserByFloorId(e),a=this.isPinedByFloorId(e,t.id);a?(createjs.Sound.play("tap_cancel"),this.$store.commit("deletePinByFloorId",{floorId:e,contentId:t.id}),this.deletePinByFloorId(t.id,n.name)):(createjs.Sound.play("tap_pin"),this.$store.commit("addPinByFloorId",{floorId:e,content:t}),this.postPinByFloorId(t.id,n.name))},postPinByFloorId:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/next100/pins",r={eventuser_id:n,related_content_id:t},e.next=4,o["a"].post(a,r).catch(function(){return!1});case 4:return s=e.sent,e.abrupt("return",!!s);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deletePinByFloorId:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="/next100/pins",r={data:{eventuser_id:n,related_content_id:t}},e.next=4,o["a"].delete(a,r).catch(function(){return!1});case 4:return s=e.sent,e.abrupt("return",!!s);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),getColorMap:function(){var e={1:"green",2:"red",3:"yellow",4:"blue"};return e}}}},"9ef5":function(e,t,n){"use strict";var a=n("0933"),o=n.n(a);o.a},a5bc:function(e,t,n){"use strict";var a=n("8206"),o=n.n(a),r=n("8039"),s=o.a.create({baseURL:"https://trnspt.com"});s.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json",e.headers["X-CSRF-Token"]=Object(r["csrfToken"])(),e},function(e){return Promise.reject(e)}),t["a"]=s},c21b:function(e,t,n){},c2a3:function(e,t,n){},dbe9:function(e,t,n){"use strict";var a=n("c2a3"),o=n.n(a);o.a},f633:function(e,t,n){"use strict";n("456d"),n("ac6a"),n("cadf"),n("551c"),n("097d");var a=n("8206"),o=n.n(a),r=n("8055"),s=n.n(r),i=n("2ef0"),c=n.n(i),u=o.a.create({baseURL:"http://localhost:8888"}),l=32768;t["a"]={methods:{startObserver:function(){var e=this.$store.state.customTouchMode;"developer"!==e&&"preview"!==e||this.observeBrowserTouchEvent(),"developer"!==e&&"production"!==e||this.observeEventFromDriver()},observeBrowserTouchEvent:function(){window.addEventListener("touchstart",this.handleNativeTouchEvent("touchstart","CUSTOM_TOUCH_START")),window.addEventListener("touchend",this.handleNativeTouchEvent("touchend","CUSTOM_TOUCH_END")),window.addEventListener("touchmove",this.handleNativeTouchEvent("touchmove","CUSTOM_TOUCH_MOVE"))},handleNativeTouchEvent:function(e,t){var n=this;return function(a){for(var o=n.$store.state.debugParams.currentFloorId,r=[],s=0;s<a.changedTouches.length;s++){var i=a.changedTouches[s],c=n.getConvertedPosition(i),u={type:e,identify:s+1,floorId:o,x:c.x,y:c.y};r.push(u)}var l=n.$store.state.customTouchMode;if("developer"===l)n.sendDriver(r);else if("preview"===l){var d=n.filterData(r),f={detail:d},h=new CustomEvent(t,f);window.dispatchEvent(h)}}},getConvertedPosition:function(e){var t=e.clientX,n=e.clientY,a=l;return{x:c.a.round(a*t/window.innerWidth),y:c.a.round(a*n/window.innerHeight)}},observeEventFromDriver:function(){var e=s()("http://localhost:8888");e.on("emit_from_server",this.dispatchCustomEventByStream)},dispatchCustomEventByStream:function(e){var t=this.filterData(JSON.parse(e)),n={touchstart:[],touchmove:[],touchend:[]},a={touchstart:"CUSTOM_TOUCH_START",touchmove:"CUSTOM_TOUCH_MOVE",touchend:"CUSTOM_TOUCH_END"};t.forEach(function(e){n[e.type]&&n[e.type].push(e)}),Object.keys(n).forEach(function(e){var t=n[e];if(!t.length)return!1;var o={detail:t},r=new CustomEvent(a[e],o);window.dispatchEvent(r)})},filterData:function(e){var t=e.map(function(e){var t=e;return t.x=e.x/l*window.innerWidth,t.y=e.y/l*window.innerHeight,e});return t=t.filter(function(e){return 0!==e.floorId}),t},sendDriver:function(e){u.get("/?_= ".concat(JSON.stringify(e)))},isTouchObjectByElement:function(e,t){if(!t.getBoundingClientRect)return!1;var n=t.getBoundingClientRect();if(!n)throw new Error("cannnot get client rect");return this.isTouchObjectByRect(e,n)},isTouchObjectByRect:function(e,t){var n=t.x,a=t.y,o=t.width,r=t.height;return e.x<=n+o&&e.x>=n&&e.y<=a+r&&e.y>=a}}}}});
//# sourceMappingURL=app.2b48e707.js.map