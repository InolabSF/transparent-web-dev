{"version":3,"sources":["webpack:///./src/views/Welcome.vue?69e2","webpack:///./src/views/Welcome.vue?d32e","webpack:///src/views/Welcome.vue","webpack:///./src/views/Welcome.vue?4944","webpack:///./src/views/Welcome.vue?d4eb"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Welcome_vue_vue_type_style_index_0_id_ed0cf0e6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Welcome_vue_vue_type_style_index_0_id_ed0cf0e6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","id","staticClass","Welcomevue_type_script_lang_js_","name","components","UserLayer","mixins","userMixin","customTouchEventDriver","data","isShowConfirmOverlay","created","window","addEventListener","onClickTable","methods","evt","floorId","detail","alert","user","loginUsers","find","u","isLoggedin","isStartTalkModal","startmeeting","$store","commit","params","confirmStartMeeting","login","_startmeeting","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wall","wrap","_context","prev","next","createWall","sent","removeEventListener","$router","push","concat","key","isSmallHue","state","map","stop","apply","arguments","createjs","Sound","play","onClickStartButton","formatedDatetime","moment_default","format","default_langcode","version","ApiClient","post","computed","objectSpread","vuex_esm","views_Welcomevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"2IAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAmiBE,EAAG,4CCAtiB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BH,EAAAI,MAAAC,GAAwB,OAAAL,EAAAM,GAAA,IACzFC,GAAA,WAAoC,IAAAP,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,OAA2BG,OAAOC,GAAA,sBAAyBJ,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,cAAwBL,EAAA,OAAYK,YAAA,mLCyB9eC,GACAC,KAAA,UACAC,YACAC,YAAA,MAEAC,QAAAC,EAAA,KAAAC,EAAA,MACAC,KANA,WAOA,OACAC,sBAAA,IAGAC,QAXA,WAYAC,OAAAC,iBAAA,qBAAArB,KAAAsB,eAEAC,SACAD,aADA,SACAE,GACA,IAAAC,EAAAD,EAAAE,OAAA,GAAAD,QAGA,OAAAA,EAEA,OADAE,MAAA,yBACA,EAGA,IAAAC,EAAA5B,KAAA6B,WAAAC,KAAA,SAAAC,GAAA,OAAAA,EAAAN,cACAO,IAAAJ,EAEAI,GAAAJ,EAAAK,kBACAjC,KAAAkC,eACAlC,KAAAmC,OAAAC,OAAA,mBACAX,UACAY,QACAJ,kBAAA,MAGAD,EACAhC,KAAAsC,oBAAAb,GAEAzB,KAAAuC,MAAAd,IAGAS,aA3BA,eAAAM,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EA4BAnD,KAAAoD,aA5BA,OA4BAN,EA5BAG,EAAAI,KA6BAjC,OAAAkC,oBAAA,qBAAAtD,KAAAsB,cACAyB,EAAAD,EAAA7B,KACAjB,KAAAuD,QAAAC,KAAA,UAAAC,OAAAV,EAAAvC,GAAA,iBAAAiD,OAAAX,EAAA7B,KAAAyC,MACA1D,KAAAmC,OAAAC,OAAA,YAAAuB,YAAA,IACA3D,KAAAmC,OAAAC,OAAA,YACAP,WAAA7B,KAAAmC,OAAAyB,MAAA/B,WAAAgC,IAAA,SAAA9B,GAEA,OADAA,EAAAE,kBAAA,EACAF,MApCA,wBAAAkB,EAAAa,SAAAjB,EAAA7C,SAAA,yBAAAwC,EAAAuB,MAAA/D,KAAAgE,YAAA,GAwCA1B,oBAxCA,SAwCAb,GACAwC,SAAAC,MAAAC,KAAA,OACAnE,KAAAmC,OAAAC,OAAA,YAAAuB,YAAA,IACA3D,KAAAmC,OAAAC,OAAA,mBACAX,UACAY,QACAJ,kBAAA,MAIAmC,mBAlDA,WAmDApE,KAAAkC,gBAEAkB,WArDA,WAsDA,IAAAiB,EAAAC,MAAAC,OAAA,WACAlC,GACA1B,KAAA,WAAA8C,OAAAY,GACAG,iBAAA,EACAC,QAAA,WAEA,OAAAC,EAAA,KAAAC,KAAA,SAAAtC,KAGAuC,SAAYnC,OAAAoC,EAAA,KAAApC,IACZA,OAAAqC,EAAA,KAAArC,EACA,aACA,uBC1GiVsC,EAAA,0BCQjVC,EAAgBvC,OAAAwC,EAAA,KAAAxC,CACdsC,EACAjF,EACAQ,GACF,EACA,KACA,WACA,MAIA0E,EAAAE,QAAAC,OAAA,cACeC,EAAA,WAAAJ","file":"static/js/chunk-6343887c.c1cbcc7a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=style&index=0&id=ed0cf0e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=style&index=0&id=ed0cf0e6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"media-send-leyer\"}},[_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"}),_c('div',{staticClass:\"send-area\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--<user-layer></user-layer>-->\n    <div id=\"media-send-leyer\">\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n      <div class=\"send-area\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from \"@/core/ApiClient\";\nimport moment from \"moment\";\nimport { mapState } from \"vuex\";\nimport userMixin from \"@/mixins/userMixin\";\nimport customTouchEventDriver from \"@/mixins/customTouchEventDriver\";\nimport UserLayer from \"@/components/UserLayer\";\n\nexport default {\n  name: \"welcome\",\n  components: {\n    UserLayer\n  },\n  mixins: [userMixin, customTouchEventDriver],\n  data() {\n    return {\n      isShowConfirmOverlay: false,\n    }\n  },\n  created() {\n    window.addEventListener('CUSTOM_TOUCH_START', this.onClickTable);\n  },\n  methods: {\n    onClickTable(evt) {\n      const floorId = evt.detail[0].floorId;\n\n      // NOTE: 外野アラート\n      if (floorId === 0) {\n        alert('テーブルサイドに立ってタップしてください');\n        return false;\n      }\n\n      const user = this.loginUsers.find(u => u.floorId === floorId);\n      const isLoggedin = !!user;\n\n      if (isLoggedin && user.isStartTalkModal) {\n        this.startmeeting();\n        this.$store.commit('updateLoginUser', {\n          floorId,\n          params: {\n            isStartTalkModal: false,\n          }\n        });\n      } else if (isLoggedin) {\n        this.confirmStartMeeting(floorId);\n      } else {\n        this.login(floorId);\n      }\n    },\n    async startmeeting() {\n      const res = await this.createWall();\n      window.removeEventListener('CUSTOM_TOUCH_START', this.onClickTable);\n      const wall = res.data;\n      this.$router.push(`/walls/${wall.id}/meeting?key=${res.data.key}`);\n      this.$store.commit('setState', { isSmallHue: false });\n      this.$store.commit('setState', {\n        loginUsers: this.$store.state.loginUsers.map(u => {\n          u.isStartTalkModal = false;\n          return u;\n        })\n      });\n    },\n    confirmStartMeeting(floorId) {\n      createjs.Sound.play('hue');\n      this.$store.commit('setState', { isSmallHue: true });\n      this.$store.commit('updateLoginUser', {\n        floorId,\n        params: {\n          isStartTalkModal: true,\n        }\n      });\n    },\n    onClickStartButton() {\n      this.startmeeting();\n    },\n    createWall() {\n      const formatedDatetime = moment().format(\"MMDDHHm\");\n      const params = {\n        name: `NEXT100-${formatedDatetime}`,\n        default_langcode: 0,\n        version: \"next100\"\n      };\n      return api.post(\"/walls\", params);\n    }\n  },\n  computed: {\n    ...mapState([\n      'loginUsers',\n      'isStartTalkModal'\n    ])\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user {\n  position: absolute;\n  font-size: 2vw;\n}\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(#000, 0.7);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Welcome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Welcome.vue?vue&type=template&id=ed0cf0e6&scoped=true&\"\nimport script from \"./Welcome.vue?vue&type=script&lang=js&\"\nexport * from \"./Welcome.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Welcome.vue?vue&type=style&index=0&id=ed0cf0e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed0cf0e6\",\n  null\n  \n)\n\ncomponent.options.__file = \"Welcome.vue\"\nexport default component.exports"],"sourceRoot":""}