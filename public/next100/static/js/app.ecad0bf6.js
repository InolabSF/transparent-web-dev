(function(e){function t(t){for(var o,r,i=t[0],u=t[1],s=t[2],l=0,d=[];l<i.length;l++)r=i[l],a[r]&&d.push(a[r][0]),a[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);h&&h(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==a[i]&&(o=!1)}o&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},r={app:0},a={app:0},c=[];function i(e){return u.p+"static/js/"+({}[e]||e)+"."+{"chunk-0442dfba":"20646314","chunk-2d0aa5b8":"fc44a058","chunk-1a7e384e":"fc83a066","chunk-2d217ffe":"3543320f","chunk-014a5bb8":"88623ce4","chunk-1ecafe18":"6999ea0c","chunk-a32405ec":"cd15cc5c","chunk-e9a52e0e":"9bfe92b5","chunk-2d237d13":"5694610d","chunk-51655586":"7aea5f90","chunk-608aa4b6":"59c43339","chunk-6dd41ba2":"06334d60","chunk-701c72bc":"9939a4af","chunk-a00acac8":"ad46c44e","chunk-e99b2cea":"b189554a"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-0442dfba":1,"chunk-1a7e384e":1,"chunk-014a5bb8":1,"chunk-1ecafe18":1,"chunk-a32405ec":1,"chunk-e9a52e0e":1,"chunk-51655586":1,"chunk-608aa4b6":1,"chunk-6dd41ba2":1,"chunk-701c72bc":1,"chunk-a00acac8":1,"chunk-e99b2cea":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="static/css/"+({}[e]||e)+"."+{"chunk-0442dfba":"091569a3","chunk-2d0aa5b8":"31d6cfe0","chunk-1a7e384e":"83569553","chunk-2d217ffe":"31d6cfe0","chunk-014a5bb8":"0566e594","chunk-1ecafe18":"736f277e","chunk-a32405ec":"2e5c8053","chunk-e9a52e0e":"6affa8ce","chunk-2d237d13":"31d6cfe0","chunk-51655586":"57a543ec","chunk-608aa4b6":"7ce9b2af","chunk-6dd41ba2":"90d12f6a","chunk-701c72bc":"cf679d23","chunk-a00acac8":"903c6d8c","chunk-e99b2cea":"2103383b"}[e]+".css",r=u.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var i=a[c],s=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(s===o||s===r))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){i=l[c],s=i.getAttribute("data-href");if(s===o||s===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.request=o,n(a)},d.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){r[e]=0}));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise(function(t,n){o=a[e]=[t,n]});t.push(o[2]=c);var s,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e),s=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");c.type=o,c.request=r,n[1](c)}a[e]=void 0}};var h=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,l.appendChild(d)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/next100/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var h=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("c21b"),r=n.n(o);r.a},"0933":function(e,t,n){},"0e65":function(e,t,n){"use strict";var o=n("20d5"),r=n.n(o);r.a},1:function(e,t){},"20d5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"mobile"===e.$route.meta.layout?n("mobile-layout",[n("router-view")],1):n("default-layout",[n("router-view")],1)},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{staticClass:"wrapper",attrs:{name:"hello-world"}},[n("div",{staticClass:"p4"},[n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"production"},domProps:{checked:e._q(e.selectedMode,"production")},on:{change:function(t){e.selectedMode="production"}}}),e._v(" 本番モード（要専用ドライバ）\n    ")]),n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"preview"},domProps:{checked:e._q(e.selectedMode,"preview")},on:{change:function(t){e.selectedMode="preview"}}}),e._v(" プレビューモード（Webブラウザ単体で動きます）\n    ")]),n("label",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMode,expression:"selectedMode"}],attrs:{type:"radio",name:"selectedMode",value:"developer"},domProps:{checked:e._q(e.selectedMode,"developer")},on:{change:function(t){e.selectedMode="developer"}}}),e._v(" 開発者専用モード\n    ")]),n("div",[n("button",{attrs:{type:"submit"},on:{click:e.onClickSelectMode}},[e._v("OK")])]),n("div",[n("small",[n("router-link",{attrs:{to:"/test-index"}},[e._v("モックindex")])],1)])])])},i=[],u=n("c93e"),s=n("f633"),l=n("2f62"),d={name:"ModeSelectModal",mixins:[s["a"]],data:function(){return{selectedMode:"production"}},computed:Object(u["a"])({},Object(l["b"])(["isModeSelectFinished"])),methods:{onClickSelectMode:function(){this.$store.commit("setState",{customTouchMode:this.selectedMode}),this.startObserver(),this.$store.commit("setState",{isModeSelectFinished:!0}),this.$modal.hide("hello-world")}}},h=d,f=(n("0e65"),n("2877")),m=Object(f["a"])(h,c,i,!1,null,"52541d38",null);m.options.__file="ModeSelectModal.vue";m.exports;var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"debug-control",on:{click:e.test}},[n("label",{staticClass:"block"},[e._v("\n    固定フロアID:\n    "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.floorId,expression:"floorId"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.floorId=t.target.multiple?n:n[0]},e.onChangeFloorId]}},[n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")])])])])},v=[],b=(n("c5f6"),{name:"DebugControl",data:function(){return{floorId:this.debugParams.currentFloorId}},computed:Object(u["a"])({},Object(l["b"])(["debugParams"])),methods:{test:function(e){},onChangeFloorId:function(){this.$store.commit("setDebugParams",{currentFloorId:Number(this.floorId)})}}}),g=b,k=(n("9ef5"),Object(f["a"])(g,p,v,!1,null,"82d8ce16",null));k.options.__file="DebugControl.vue";var y=k.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._t("default")],2)},_=[],I=(n("6762"),n("386d"),n("72bf")),T=n.n(I),M={name:"DefaultLayout",mixins:[s["a"]],created:function(){this.initCustomTouchMode(),this.initUserSwitchDebugger()},methods:{initCustomTouchMode:function(){var e=["production","preview","development"],t=T.a.parse(location.search),n=t.mode,o=localStorage.getItem("customTouchMode");!n&&"production"!==o&&confirm("".concat(o,"モードで再開しますか？"))&&(n=o),e.includes(n)||(n="production"),console.log("mode:"+n),this.$store.commit("setState",{customTouchMode:n}),localStorage.setItem("customTouchMode",n),this.startObserver()},initUserSwitchDebugger:function(){var e=this,t=this.$store.state.customTouchMode;"preview"===t&&window.addEventListener("keydown",function(t){var n=e.$store.state.debugParams.currentFloorId;if("ArrowLeft"===t.code){var o=n-1>=1?n-1:1;e.$store.commit("setDebugParams",{currentFloorId:o})}else if("ArrowRight"===t.code){var r=n+1<=4?n+1:4;e.$store.commit("setDebugParams",{currentFloorId:r})}})}}},O=M,S=Object(f["a"])(O,w,_,!1,null,null,null);S.options.__file="DefaultLayout.vue";var C=S.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mobile"}},[e._t("default")],2)},U=[],x={name:"MobileLayout"},E=x,j=Object(f["a"])(E,P,U,!1,null,null,null);j.options.__file="MobileLayout.vue";var F=j.exports,L={name:"App",components:{DebugControl:y,DefaultLayout:C,MobileLayout:F},created:function(){var e=this;setTimeout(function(){e.showSettingModal()}),window.addEventListener("contextmenu",function(e){e.preventDefault()},!1)},methods:{showSettingModal:function(){this.$modal.show("hello-world")}}},$=L,B=(n("034f"),Object(f["a"])($,r,a,!1,null,null,null));B.options.__file="App.vue";var D=B.exports,N=n("8c4f");o["a"].use(N["a"]);var R=new N["a"]({mode:"history",base:"/next100/",routes:[{path:"/test-index",name:"test-index",component:function(){return n.e("chunk-6dd41ba2").then(n.bind(null,"f819"))}},{path:"/meeting-test",name:"meeting-test",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-1a7e384e")]).then(n.bind(null,"08bb"))}},{path:"/test-log",name:"test-log",component:function(){return n.e("chunk-701c72bc").then(n.bind(null,"bf80"))}},{path:"/test-hold",name:"test-hold",component:function(){return n.e("chunk-e99b2cea").then(n.bind(null,"cd77"))}},{path:"/test-pinch",name:"test-pinch",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-a32405ec")]).then(n.bind(null,"15f7"))}},{path:"/test-scroll",name:"test-scroll",component:function(){return n.e("chunk-0442dfba").then(n.bind(null,"2f15"))}},{path:"/test-hit",name:"test-hit",component:function(){return n.e("chunk-a00acac8").then(n.bind(null,"6abc"))}},{path:"/test-transcripts/:wallId",name:"test-transcripts",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-1ecafe18")]).then(n.bind(null,"6fba"))}},{path:"/",name:"home",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-e9a52e0e")]).then(n.bind(null,"bb51"))}},{path:"/welcome",name:"welcome",component:function(){return n.e("chunk-51655586").then(n.bind(null,"eec5"))}},{path:"/walls/:wallId/meeting",name:"meeting",component:function(){return Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-2d217ffe"),n.e("chunk-014a5bb8")]).then(n.bind(null,"d13f"))}},{path:"/walls/:wallId/logs",name:"wallLogs",component:function(){return n.e("chunk-2d237d13").then(n.bind(null,"fd76"))},meta:{layout:"mobile"}},{path:"*",name:"notFound",component:function(){return n.e("chunk-608aa4b6").then(n.bind(null,"9703"))}}]});n("7514"),n("f751");o["a"].use(l["a"]);var A=localStorage.getItem("loginUsers"),q=A?JSON.parse(A):[],H=new l["a"].Store({state:{loginUsers:q||[],isModeSelectFinished:!1,customTouchMode:"production",debugParams:{currentFloorId:1},touchingQueues:[],isStartTalkModal:!1},mutations:{setState:function(e,t){e=Object.assign(e,t)},addLoginUser:function(e,t){e.loginUsers.push(t)},removeLoginUser:function(e,t){e.loginUsers=e.loginUsers.filter(function(e){return e.floorId!==t})},updateLoginUser:function(e,t){var n=t.floorId,o=t.params,r=e.loginUsers.find(function(e){return e.floorId===n});Object.assign(r,o)},enqueueTouchingQueue:function(e,t){var n=t.floorId,o=t.time;e.touchingQueues.push({floorId:n,time:o})},dequeueTouchingQueue:function(e,t){var n=t.floorId;e.touchingQueues=e.touchingQueues.filter(function(e){return e.floorId==n})},setDebugParams:function(e,t){e.debugParams=Object.assign(e.debugParams,t)},addPinByFloorId:function(e,t){var n=t.floorId,o=t.content;e.loginUsers=e.loginUsers.map(function(e){return e.floorId===n?(e.pinnedContents.push(o),e):e})},deletePinByFloorId:function(e,t){var n=t.floorId,o=t.contentId;e.loginUsers=e.loginUsers.map(function(e){return e.floorId===n?(e.pinnedContents=e.pinnedContents.filter(function(e){return e.id!==o}),e):e})}},actions:{}}),J=n("1881"),Q=n.n(J),W=n("8d29");n("77ed");o["a"].config.productionTip=!1,o["a"].use(Q.a),o["a"].mixin(W["a"]),o["a"].mixin(s["a"]),new o["a"]({router:R,store:H,render:function(e){return e(D)}}).$mount("#app")},"8d29":function(e,t,n){"use strict";n("96cf");var o=n("3040"),r=(n("7f7f"),n("7514"),n("cadf"),n("551c"),n("097d"),n("a5bc")),a=4;t["a"]={methods:{login:function(e){var t=!!this.$store.state.loginUsers.find(function(t){return t.floorId===e});if(t)return!1;var n={floorId:e,name:"randomName100".concat(e),pinnedContents:[],isStartTalkModal:!1};if(!(this.$store.state.loginUsers.length<a))throw"参加人数は4名まで";this.$store.commit("addLoginUser",n),this.syncLoginUserToLocalStorage()},logout:function(e){this.$store.commit("removeLoginUser",e),this.syncLoginUserToLocalStorage()},syncLoginUserToLocalStorage:function(){localStorage.setItem("loginUsers",JSON.stringify(this.$store.state.loginUsers))},getStyleByFloorId:function(e){var t={1:{bottom:0,left:"auto",right:"auto"},2:{bottom:"auto",left:0,top:"auto"},3:{top:0,left:"auto",right:"auto"},4:{bottom:"auto",right:0,top:"auto"}};return t[e]},getUserByFloorId:function(e){var t=this.$store.state.loginUsers.find(function(t){return t.floorId===e});return t},isPinedByFloorId:function(e,t){var n=this.getUserByFloorId(e);return n.pinnedContents.find(function(e){return e.id===t})},togglePinByFloorId:function(e,t){var n=this.getUserByFloorId(e),o=this.isPinedByFloorId(e,t.id);o?(this.$store.commit("deletePinByFloorId",{floorId:e,contentId:t.id}),this.deletePinByFloorId(t.id,n.name)):(this.$store.commit("addPinByFloorId",{floorId:e,content:t}),this.postPinByFloorId(t.id,n.name))},postPinByFloorId:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var o,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o="/next100/pins",a={eventuser_id:n,related_content_id:t},e.next=4,r["a"].post(o,a).catch(function(){return!1});case 4:return c=e.sent,e.abrupt("return",!!c);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deletePinByFloorId:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var o,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o="/next100/pins",a={data:{eventuser_id:n,related_content_id:t}},e.next=4,r["a"].delete(o,a).catch(function(){return!1});case 4:return c=e.sent,e.abrupt("return",!!c);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),getColorMap:function(){var e={1:"green",2:"red",3:"yellow",4:"blue"};return e}}}},"9ef5":function(e,t,n){"use strict";var o=n("0933"),r=n.n(o);r.a},a5bc:function(e,t,n){"use strict";var o=n("8206"),r=n.n(o),a=n("8039"),c=r.a.create({baseURL:"https://trnspt.com"});c.interceptors.request.use(function(e){return e.headers["Content-Type"]="application/json",e.headers["X-CSRF-Token"]=Object(a["csrfToken"])(),e},function(e){return Promise.reject(e)}),t["a"]=c},c21b:function(e,t,n){},f633:function(e,t,n){"use strict";n("456d"),n("ac6a"),n("cadf"),n("551c"),n("097d");var o=n("8206"),r=n.n(o),a=n("8055"),c=n.n(a),i=n("2ef0"),u=n.n(i),s=r.a.create({baseURL:"http://localhost:8888"}),l=32768;t["a"]={methods:{startObserver:function(){var e=this.$store.state.customTouchMode;"developer"!==e&&"preview"!==e||this.observeBrowserTouchEvent(),"developer"!==e&&"production"!==e||this.observeEventFromDriver()},observeBrowserTouchEvent:function(){window.addEventListener("touchstart",this.handleNativeTouchEvent("touchstart","CUSTOM_TOUCH_START")),window.addEventListener("touchend",this.handleNativeTouchEvent("touchend","CUSTOM_TOUCH_END")),window.addEventListener("touchmove",this.handleNativeTouchEvent("touchmove","CUSTOM_TOUCH_MOVE"))},handleNativeTouchEvent:function(e,t){var n=this;return function(o){for(var r=n.$store.state.debugParams.currentFloorId,a=[],c=0;c<o.changedTouches.length;c++){var i=o.changedTouches[c],u=n.getConvertedPosition(i),s={type:e,identify:c+1,floorId:r,x:u.x,y:u.y};a.push(s)}var l=n.$store.state.customTouchMode;if("developer"===l)n.sendDriver(a);else if("preview"===l){var d=n.filterData(a),h={detail:d},f=new CustomEvent(t,h);window.dispatchEvent(f)}}},getConvertedPosition:function(e){var t=e.clientX,n=e.clientY,o=l;return{x:u.a.round(o*t/window.innerWidth),y:u.a.round(o*n/window.innerHeight)}},observeEventFromDriver:function(){var e=c()("http://localhost:8888");e.on("emit_from_server",this.dispatchCustomEventByStream)},dispatchCustomEventByStream:function(e){var t=this.filterData(JSON.parse(e)),n={touchstart:[],touchmove:[],touchend:[]},o={touchstart:"CUSTOM_TOUCH_START",touchmove:"CUSTOM_TOUCH_MOVE",touchend:"CUSTOM_TOUCH_END"};t.forEach(function(e){n[e.type]&&n[e.type].push(e)}),Object.keys(n).forEach(function(e){var t=n[e];if(!t.length)return!1;var r={detail:t},a=new CustomEvent(o[e],r);window.dispatchEvent(a)})},filterData:function(e){var t=e.map(function(e){var t=e;return t.x=e.x/l*window.innerWidth,t.y=e.y/l*window.innerHeight,e});return t=t.filter(function(e){return 0!==e.floorId}),t},sendDriver:function(e){s.get("/?_= ".concat(JSON.stringify(e)))},isTouchObjectByElement:function(e,t){var n=t.getBoundingClientRect();if(!n)throw new Error("cannnot get client rect");return this.isTouchObjectByRect(e,n)},isTouchObjectByRect:function(e,t){var n=t.x,o=t.y,r=t.width,a=t.height;return e.x<=n+r&&e.x>=n&&e.y<=o+a&&e.y>=o}}}}});
//# sourceMappingURL=app.ecad0bf6.js.map