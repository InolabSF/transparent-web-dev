{"version":3,"sources":["webpack:///./src/views/Meeting.vue?ac3d","webpack:///./src/views/Meeting.vue?142b","webpack:///src/views/Meeting.vue","webpack:///./src/views/Meeting.vue?8f24","webpack:///./src/views/Meeting.vue?efce"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Meeting_vue_vue_type_style_index_0_id_45a7410c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Meeting_vue_vue_type_style_index_0_id_45a7410c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","layer","i","style","layerStyles","keywordStyles","_v","_s","words","content","j","key","id","ref","refInFor","imageStyles","attrs","data-layer-id","data-content-id","src","img_url","on","click","$event","onClickImage","stat","refName","preventDefault","closeContentDetailModal","currentDetailModalContent","title","alt","desc","_e","aria-label","staticRenderFns","START_Z_AXIS","Z_STEP","SHOW_LAYER_NUM","Meetingvue_type_script_lang_js_","name","created","opts","wallId","$route","params","startRecognizeSpeachSDK","fetchTranscripts","listenPersonalTouch","data","_this","layers","isShowContentDetailModal","currentContentDetailModalFloor","currentDetailModalStyle","contextMenuStatuses","lodash_default","a","range","map","getComputedStyleForLayer","getRandomStyleForKeyWord","getRandomStyleForImage","computed","methods","window","addEventListener","onClickTable","isTouchObjectByElement","touch","elm","x","offsetLeft","offsetWidth","y","offsetTop","offsetHeight","isTouchObjectByRect","_ref","width","height","_fetchTranscripts","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","url","res","_res$data","searches","related_contents","wrap","_context","prev","next","concat","ApiClient","get","sent","search_first_index","search_last_index","related_content_last_index","s","filter","r","transcript_id","stop","apply","arguments","_ref2","floorId","contentId","openContentDetailModal","_ref3","find","l","c","getModalStyleByFloorId","contentDetailOpenTime","Date","getTime","waitTime","time","evt","touchedImage","_this2","detail","$refs","images","forEach","img","rect","getBoundingClientRect","Number","getAttribute","existRef","length","closeContextMenu","d","openContextMenu","left","top","status","push","getStyleByContextMenuPosition","openPinList","createPin","removePin","offRecord","leave","exitWall","removeContent","removeWord","random","innerWidth","innerHeight","x0","y0","index","z","alpha","zIndex","transform","opacity","styleMap","1","2","3","4","views_Meetingvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-519db5b0.5719e3c0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meeting.vue?vue&type=style&index=0&id=45a7410c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meeting.vue?vue&type=style&index=0&id=45a7410c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"layer-list-wrapper\"},[_c('div',{staticClass:\"layer-list\"},_vm._l((_vm.layers),function(layer,i){return _c('div',{staticClass:\"layer\",style:(_vm.layerStyles[i])},[_c('div',{staticClass:\"layer__word\",style:(_vm.keywordStyles[i])},[_vm._v(_vm._s(layer.words[0]))]),_vm._l((layer.related_contents),function(content,j){return _c('img',{key:content.id,ref:\"images\",refInFor:true,staticClass:\"layer__img\",style:(_vm.imageStyles[i]),attrs:{\"data-layer-id\":layer.id,\"data-content-id\":content.id,\"src\":content.img_url},on:{\"click\":function($event){_vm.onClickImage(content)}}})})],2)}))]),_vm._l((_vm.contextMenuStatuses),function(stat){return [_c('div',{ref:stat.refName,refInFor:true,staticClass:\"context-menu\",style:(stat.style)},[_vm._v(\"\\n      context menu\\n    \")])]}),(_vm.isShowContentDetailModal)?[_c('div',{staticClass:\"modal is-active\"},[_c('div',{staticClass:\"modal-background\",on:{\"click\":function($event){$event.preventDefault();return _vm.closeContentDetailModal($event)}}}),(_vm.currentDetailModalContent)?_c('div',{staticClass:\"modal-content\",style:(_vm.currentDetailModalStyle)},[_c('p',[_vm._v(_vm._s(_vm.currentDetailModalContent.title))]),_c('p',{staticClass:\"image is-4by3\"},[_c('img',{attrs:{\"src\":_vm.currentDetailModalContent.img_url,\"alt\":\"\"}})]),_c('p',[_vm._v(_vm._s(_vm.currentDetailModalContent.desc))])]):_vm._e(),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"}})])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--<h1>Let's Talk!!</h1>-->\n  <!--レイヤーと奥行き表示ロジック-->\n  <!--<div>TODO コンテキストメニュー＋QRコード</div>-->\n  <!--<div>TODO コンテキスト（leave確認）</div>-->\n  <div class=\"wrapper\">\n    <div class=\"layer-list-wrapper\">\n      <div class=\"layer-list\">\n        <div class=\"layer\" :style=\"layerStyles[i]\" v-for=\"layer, i in layers\">\n          <div class=\"layer__word\" :style=\"keywordStyles[i]\">{{ layer.words[0] }}</div>\n          <img ref=\"images\" class=\"layer__img\" :style=\"imageStyles[i]\" v-for=\"content, j in layer.related_contents\" :key=\"content.id\" :data-layer-id=\"layer.id\" :data-content-id=\"content.id\" :src=\"content.img_url\" @click=\"onClickImage(content)\" />\n        </div>\n      </div>\n    </div>\n    <template v-for=\"stat in contextMenuStatuses\">\n      <div\n        class=\"context-menu\"\n        :style=\"stat.style\"\n        :ref=\"stat.refName\"\n      >\n        context menu\n      </div>\n    </template>\n    <template v-if=\"isShowContentDetailModal\">\n      <div class=\"modal is-active\">\n        <div class=\"modal-background\" @click.prevent=\"closeContentDetailModal\"></div>\n        <!--<div class=\"modal-background\"></div>-->\n        <div class=\"modal-content\" v-if=\"currentDetailModalContent\" :style=\"currentDetailModalStyle\">\n          <p>{{ currentDetailModalContent.title }}</p>\n          <p class=\"image is-4by3\">\n            <img :src=\"currentDetailModalContent.img_url\" alt=\"\">\n          </p>\n          <p>{{ currentDetailModalContent.desc }}</p>\n        </div>\n        <button class=\"modal-close is-large\" aria-label=\"close\"></button>\n      </div>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport client from \"@/core/ApiClient\";\nimport _ from \"lodash\";\n\nconst START_Z_AXIS = 50; // 先頭z座標\nconst Z_STEP = 10; // 1レイヤー間のz深度\nconst SHOW_LAYER_NUM = 10 // 階層数\n\nexport default {\n  name: \"Meeting\",\n  created() {\n    const opts = {\n      wallId: this.$route.params.wallId\n    };\n    startRecognizeSpeachSDK(opts);\n    // TODO transcriptsの取得\n    this.fetchTranscripts();\n    this.listenPersonalTouch();\n  },\n  data() {\n    return {\n      layers: [],\n      isShowContentDetailModal: false,\n      currentContentDetailModalFloor: false,\n      currentDetailModalContent: null,\n      currentDetailModalStyle: {},\n      contextMenuStatuses: [],\n      layerStyles: _.range(10).map((i) => {\n        return this.getComputedStyleForLayer(i);\n      }),\n      keywordStyles: _.range(10).map(() => {\n        return this.getRandomStyleForKeyWord()\n      }),\n      imageStyles: _.range(10).map(() => {\n        return this.getRandomStyleForImage();\n      }),\n    }\n  },\n  computed: {\n\n  },\n  methods: {\n    listenPersonalTouch() {\n      window.addEventListener('CUSTOM_TOUCH_START', this.onClickTable);\n    },\n    isTouchObjectByElement(touch, elm) {\n      if (\n        touch.x <= elm.offsetLeft + elm.offsetWidth &&\n        touch.x >= elm.offsetLeft &&\n        touch.y <= elm.offsetTop + elm.offsetHeight &&\n        touch.y >= elm.offsetTop\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    isTouchObjectByRect(touch, {x, y, width, height}) {\n      if (\n        touch.x <= x + width &&\n        touch.x >= x &&\n        touch.y <= y + height &&\n        touch.y >= y\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    async fetchTranscripts() {\n      const wallId = this.$route.params.wallId;\n      const url = `/api/transcripts/${wallId}`;\n      const res = await client.get(url);\n\n      // 整形\n      const {\n        searches,\n        search_first_index,\n        search_last_index,\n        related_contents,\n        related_content_last_index\n      } = res.data;\n\n      const layers = searches.map(s => {\n        s.related_contents = related_contents.filter(r => ( r.transcript_id === s.transcript_id ));\n        return s;\n      });\n\n      this.layers = layers;\n    },\n    onClickImage({floorId, contentId}) {\n      this.openContentDetailModal({floorId, contentId});\n    },\n    openContentDetailModal({floorId, contentId}) {\n      // ID識別で向きを変える\n      const layer = this.layers.find(l => {\n        return l.related_contents.find(c => ( c.id === contentId ));\n      });\n\n      if (!layer) {\n        return false;\n      }\n\n      const content = layer.related_contents.find(c => ( c.id === contentId ));\n      this.currentDetailModalStyle = this.getModalStyleByFloorId(floorId);\n      this.currentDetailModalContent = content;\n      this.isShowContentDetailModal = true;\n      this.contentDetailOpenTime = new Date().getTime();\n    },\n    closeContentDetailModal() {\n      const waitTime = 1000;\n      const time = new Date().getTime() - this.contentDetailOpenTime;\n      if (time <= waitTime) {\n        return false;\n      }\n      this.isShowContentDetailModal = false;\n    },\n    onClickTable(evt) {\n      // TODO シーン判別のようなものを追加\n      // TODO 長押しで開く\n      const touch = evt.detail[0];\n\n      // NOTE 画像触ったら反応しない\n      let isTouchImage = false;\n      let touchedImage;\n      this.$refs.images.forEach((img) => {\n        const rect = img.getBoundingClientRect();\n        if (this.isTouchObjectByRect(touch, rect)) {\n          isTouchImage = true;\n          touchedImage = img;\n          return false;\n        }\n      });\n\n      if (touchedImage) {\n        const floorId = touch.floorId;\n        const contentId = Number(touchedImage.getAttribute('data-content-id'));\n        this.onClickImage({floorId, contentId});\n        return false;\n      }\n\n      // NOTE: refsは配列で返ってくる\n      const existRef = this.$refs[`context-menu-${touch.floorId}`];\n      if (\n        existRef &&\n        existRef.length > 0 &&\n        !this.isTouchObjectByRect(touch, existRef[0].getBoundingClientRect())\n      ) {\n        this.closeContextMenu(touch);\n      } else if (\n        this.contextMenuStatuses\n          .filter(\n            d => (d.floorId === touch.floorId)\n          ).length === 0\n      ) {\n        this.openContextMenu(touch);\n      }\n    },\n    openContextMenu(touch) {\n      const style = {\n        left: `${touch.x}px`,\n        top: `${touch.y}px`,\n      };\n      const refName = `context-menu-${touch.floorId}`;\n      const status = {\n        floorId: touch.floorId,\n        style,\n        refName\n      };\n      this.contextMenuStatuses.push(status);\n    },\n    closeContextMenu(touch) {\n      const floorId = touch.floorId;\n      this.contextMenuStatuses = this.contextMenuStatuses.filter(s => s.floorId !== floorId);\n    },\n    getStyleByContextMenuPosition() {\n      // TODO タッチ位置に合わせて出す位置調整\n    },\n    openPinList() {\n      // ピン一覧\n    },\n    createPin() {\n      // TODO ピンする\n    },\n    removePin() {\n      // TODO アンピンする\n    },\n    offRecord() {\n      // TODO オフレコにする\n    },\n    leave() {\n      // TODO 退席\n    },\n    exitWall() {\n      // TODO 会議終了\n    },\n    removeContent() {\n      // TODO コンテンツを消す\n    },\n    removeWord() {\n      // TODO ワードを消す\n    },\n    getRandomStyleForImage() {\n      const x = _.random(window.innerWidth);\n      const y = _.random(window.innerHeight);\n      const style = {\n        left: `${x}px`,\n        top: `${y}px`,\n      };\n      return style;\n    },\n    getRandomStyleForKeyWord() {\n      const x0 = 800;\n      const y0 = 600;\n      const x = _.random(x0, window.innerWidth - x0);\n      const y = _.random(y0, window.innerHeight - y0);\n      const style = {\n        left: `${x}px`,\n        top: `${y}px`,\n      };\n      return style;\n    },\n    getComputedStyleForLayer(index) {\n      const z = START_Z_AXIS - (index * Z_STEP);\n      const alpha = 1 - (index * 0.08);\n      const zIndex = SHOW_LAYER_NUM - index;\n      const style = {\n        transform: `translate3D(0px, 0px, ${z}px)`,\n        opacity: alpha,\n        zIndex\n      };\n      return style;\n    },\n    getModalStyleByFloorId(floorId) {\n      const styleMap = {\n        1: {\n          'transform': `rotate(0deg)`\n        },\n        2: {\n          'transform': `rotate(90deg)`\n        },\n        3: {\n          'transform': `rotate(180deg)`\n        },\n        4: {\n          'transform': `rotate(270deg)`\n        },\n      };\n\n      return styleMap[floorId];\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.layer-list-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  perspective: 100px;\n  perspective-origin: center center;\n\n  // TODO仮\n  font-size: 10rem;\n}\n\n.layer-list {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  transform-origin: center center;\n  transform-style: preserve-3D;\n}\n\n.layer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n\n.layer__img {\n  position: absolute;\n  max-width: 600px;\n  max-height: 600px;\n}\n\n.layer__word {\n  position: absolute;\n  color: darkred;\n  font-weight: bold;\n}\n\n.context-menu {\n  position: absolute;\n  width: 400px;\n  height: 600px;\n  background: #f2f2f2;\n}\n\n.modal-content {\n  font-size: 2vw;\n  color: #fff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meeting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meeting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Meeting.vue?vue&type=template&id=45a7410c&scoped=true&\"\nimport script from \"./Meeting.vue?vue&type=script&lang=js&\"\nexport * from \"./Meeting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Meeting.vue?vue&type=style&index=0&id=45a7410c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45a7410c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Meeting.vue\"\nexport default component.exports"],"sourceRoot":""}